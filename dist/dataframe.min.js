var dfjs=function(t){"use strict";var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function e(t,n){return t(n={exports:{}},n.exports),n.exports}function r(t){return t&&t.Math==Math&&t}function d(t){try{return!!t()}catch(t){return!0}}function g(t,n){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:n}}function o(t){return x.call(t).slice(8,-1)}function l(t){if(null==t)throw TypeError("Can't call method on "+t);return t}function f(t){return E(l(t))}function m(t){return"object"==typeof t?null!==t:"function"==typeof t}function s(t,n){if(!m(t))return t;var e,r;if(n&&"function"==typeof(e=t.toString)&&!m(r=e.call(t)))return r;if("function"==typeof(e=t.valueOf)&&!m(r=e.call(t)))return r;if(!n&&"function"==typeof(e=t.toString)&&!m(r=e.call(t)))return r;throw TypeError("Can't convert object to primitive value")}function h(t,n){return T.call(t,n)}function i(t){return N?I.createElement(t):{}}function k(t){if(!m(t))throw TypeError(String(t)+" is not an object");return t}function p(n,e){try{F(b,n,e)}catch(t){b[n]=e}return e}function a(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++G+z).toString(36)}function u(t){return q[t]||(q[t]=a(t))}var c,v,y,w="object",b=r(typeof globalThis==w&&globalThis)||r(typeof window==w&&window)||r(typeof self==w&&self)||r(typeof n==w&&n)||Function("return this")(),S=!d(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),O={}.propertyIsEnumerable,_=Object.getOwnPropertyDescriptor,j={f:_&&!O.call({1:2},1)?function(t){var n=_(this,t);return!!n&&n.enumerable}:O},x={}.toString,A="".split,E=d(function(){return!Object("z").propertyIsEnumerable(0)})?function(t){return"String"==o(t)?A.call(t,""):Object(t)}:Object,T={}.hasOwnProperty,I=b.document,N=m(I)&&m(I.createElement),C=!S&&!d(function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}),R=Object.getOwnPropertyDescriptor,P={f:S?R:function(t,n){if(t=f(t),n=s(n,!0),C)try{return R(t,n)}catch(t){}if(h(t,n))return g(!j.f.call(t,n),t[n])}},L=Object.defineProperty,D={f:S?L:function(t,n,e){if(k(t),n=s(n,!0),k(e),C)try{return L(t,n,e)}catch(t){}if("get"in e||"set"in e)throw TypeError("Accessors not supported");return"value"in e&&(t[n]=e.value),t}},F=S?function(t,n,e){return D.f(t,n,g(1,e))}:function(t,n,e){return t[n]=e,t},M=e(function(t){var n="__core-js_shared__",e=b[n]||p(n,{});(t.exports=function(t,n){return e[t]||(e[t]=void 0!==n?n:{})})("versions",[]).push({version:"3.2.1",mode:"global",copyright:"Â© 2019 Denis Pushkarev (zloirock.ru)"})}),J=M("native-function-to-string",Function.toString),U=b.WeakMap,V="function"==typeof U&&/native code/.test(J.call(U)),G=0,z=Math.random(),q=M("keys"),B={},W=b.WeakMap;if(V){var H=new W,Y=H.get,$=H.has,K=H.set;c=function(t,n){return K.call(H,t,n),n},v=function(t){return Y.call(H,t)||{}},y=function(t){return $.call(H,t)}}else{var Q=u("state");B[Q]=!0,c=function(t,n){return F(t,Q,n),n},v=function(t){return h(t,Q)?t[Q]:{}},y=function(t){return h(t,Q)}}function X(t){return"function"==typeof t?t:void 0}function Z(t,n){return arguments.length<2?X(ht[t])||X(b[t]):ht[t]&&ht[t][n]||b[t]&&b[t][n]}function tt(t){return isNaN(t=+t)?0:(0<t?vt:pt)(t)}function nt(t){return 0<t?yt(tt(t),9007199254740991):0}function et(t,n){var e=tt(t);return e<0?dt(e+n,0):gt(e,n)}function rt(a){return function(t,n,e){var r,o=f(t),i=nt(o.length),u=et(e,i);if(a&&n!=n){for(;u<i;)if((r=o[u++])!=r)return!0}else for(;u<i;u++)if((a||u in o)&&o[u]===n)return a||u||0;return!a&&-1}}function ot(t,n){var e,r=f(t),o=0,i=[];for(e in r)!h(B,e)&&h(r,e)&&i.push(e);for(;n.length>o;)h(r,e=n[o++])&&(~wt(i,e)||i.push(e));return i}function it(t,n){for(var e=kt(n),r=D.f,o=P.f,i=0;i<e.length;i++){var u=e[i];h(t,u)||r(t,u,o(n,u))}}function ut(t,n){var e=At[xt(t)];return e==Tt||e!=Et&&("function"==typeof n?d(n):!!n)}function at(t,n){var e,r,o,i,u,a=t.target,c=t.global,f=t.stat;if(e=c?b:f?b[a]||p(a,{}):(b[a]||{}).prototype)for(r in n){if(i=n[r],o=t.noTargetGet?(u=Nt(e,r))&&u.value:e[r],!It(c?r:a+(f?".":"#")+r,t.forced)&&void 0!==o){if(typeof i==typeof o)continue;it(i,o)}(t.sham||o&&o.sham)&&F(i,"sham",!0),lt(e,r,i,t)}}function ct(t){return Object(l(t))}function ft(){}var st={set:c,get:v,has:y,enforce:function(t){return y(t)?v(t):c(t,{})},getterFor:function(e){return function(t){var n;if(!m(t)||(n=v(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}},lt=e(function(t){var n=st.get,a=st.enforce,c=String(J).split("toString");M("inspectSource",function(t){return J.call(t)}),(t.exports=function(t,n,e,r){var o=!!r&&!!r.unsafe,i=!!r&&!!r.enumerable,u=!!r&&!!r.noTargetGet;"function"==typeof e&&("string"!=typeof n||h(e,"name")||F(e,"name",n),a(e).source=c.join("string"==typeof n?n:"")),t!==b?(o?!u&&t[n]&&(i=!0):delete t[n],i?t[n]=e:F(t,n,e)):i?t[n]=e:p(n,e)})(Function.prototype,"toString",function(){return"function"==typeof this&&n(this).source||J.call(this)})}),ht=b,pt=Math.ceil,vt=Math.floor,yt=Math.min,dt=Math.max,gt=Math.min,mt={includes:rt(!0),indexOf:rt(!1)},wt=mt.indexOf,bt=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],St=bt.concat("length","prototype"),Ot={f:Object.getOwnPropertyNames||function(t){return ot(t,St)}},_t={f:Object.getOwnPropertySymbols},kt=Z("Reflect","ownKeys")||function(t){var n=Ot.f(k(t)),e=_t.f;return e?n.concat(e(t)):n},jt=/#|\.prototype\./,xt=ut.normalize=function(t){return String(t).replace(jt,".").toLowerCase()},At=ut.data={},Et=ut.NATIVE="N",Tt=ut.POLYFILL="P",It=ut,Nt=P.f,Ct=!!Object.getOwnPropertySymbols&&!d(function(){return!String(Symbol())}),Rt=Array.isArray||function(t){return"Array"==o(t)},Pt=Object.keys||function(t){return ot(t,bt)},Lt=S?Object.defineProperties:function(t,n){k(t);for(var e,r=Pt(n),o=r.length,i=0;i<o;)D.f(t,e=r[i++],n[e]);return t},Dt=Z("document","documentElement"),Ft=u("IE_PROTO"),Mt="prototype",Jt=function(){var t,n=i("iframe"),e=bt.length,r="script";for(n.style.display="none",Dt.appendChild(n),n.src=String("javascript:"),(t=n.contentWindow.document).open(),t.write("<script>document.F=Object</"+r+">"),t.close(),Jt=t.F;e--;)delete Jt[Mt][bt[e]];return Jt()},Ut=Object.create||function(t,n){var e;return null!==t?(ft[Mt]=k(t),e=new ft,ft[Mt]=null,e[Ft]=t):e=Jt(),void 0===n?e:Lt(e,n)};B[Ft]=!0;function Vt(t){return rn[t]||(rn[t]=Ct&&en[t]||(Ct?en:a)("Symbol."+t))}function Gt(t){var n=ht.Symbol||(ht.Symbol={});h(n,t)||un(n,t,{value:on.f(t)})}function zt(t,n,e){t&&!h(t=e?t:t.prototype,cn)&&an(t,cn,{configurable:!0,value:n})}function qt(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}function Bt(r,o,t){if(qt(r),void 0===o)return r;switch(t){case 0:return function(){return r.call(o)};case 1:return function(t){return r.call(o,t)};case 2:return function(t,n){return r.call(o,t,n)};case 3:return function(t,n,e){return r.call(o,t,n,e)}}return function(){return r.apply(o,arguments)}}function Wt(t,n){var e;return Rt(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!Rt(e.prototype)?m(e)&&null===(e=e[fn])&&(e=void 0):e=void 0),new(void 0===e?Array:e)(0===n?0:n)}function Ht(p){var v=1==p,y=2==p,d=3==p,g=4==p,m=6==p,w=5==p||m;return function(t,n,e,r){for(var o,i,u=ct(t),a=E(u),c=Bt(n,e,3),f=nt(a.length),s=0,l=r||Wt,h=v?l(t,f):y?l(t,0):void 0;s<f;s++)if((w||s in a)&&(i=c(o=a[s],s,u),p))if(v)h[s]=i;else if(i)switch(p){case 3:return!0;case 5:return o;case 6:return s;case 2:sn.call(h,o)}else if(g)return!1;return m?-1:d||g?g:h}}function Yt(t,n){var e=An[t]=Ut(bn[yn]);return gn(e,{type:vn,tag:t,description:n}),S||(e.description=n),e}function $t(n,t){k(n);var e=f(t),r=Pt(e).concat(Mn(e));return hn(r,function(t){S&&!Fn.call(e,t)||Dn(n,t,e[t])}),n}function Kt(t,n){var e=f(t),r=s(n,!0);if(e!==wn||!h(An,r)||h(En,r)){var o=_n(e,r);return!o||!h(An,r)||h(e,pn)&&e[pn][r]||(o.enumerable=!0),o}}function Qt(t){var n=jn(f(t)),e=[];return hn(n,function(t){h(An,t)||h(B,t)||e.push(t)}),e}var Xt=Ot.f,Zt={}.toString,tn="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],nn={f:function(t){return tn&&"[object Window]"==Zt.call(t)?function(t){try{return Xt(t)}catch(t){return tn.slice()}}(t):Xt(f(t))}},en=b.Symbol,rn=M("wks"),on={f:Vt},un=D.f,an=D.f,cn=Vt("toStringTag"),fn=Vt("species"),sn=[].push,ln={forEach:Ht(0),map:Ht(1),filter:Ht(2),some:Ht(3),every:Ht(4),find:Ht(5),findIndex:Ht(6)},hn=ln.forEach,pn=u("hidden"),vn="Symbol",yn="prototype",dn=Vt("toPrimitive"),gn=st.set,mn=st.getterFor(vn),wn=Object[yn],bn=b.Symbol,Sn=b.JSON,On=Sn&&Sn.stringify,_n=P.f,kn=D.f,jn=nn.f,xn=j.f,An=M("symbols"),En=M("op-symbols"),Tn=M("string-to-symbol-registry"),In=M("symbol-to-string-registry"),Nn=M("wks"),Cn=b.QObject,Rn=!Cn||!Cn[yn]||!Cn[yn].findChild,Pn=S&&d(function(){return 7!=Ut(kn({},"a",{get:function(){return kn(this,"a",{value:7}).a}})).a})?function(t,n,e){var r=_n(wn,n);r&&delete wn[n],kn(t,n,e),r&&t!==wn&&kn(wn,n,r)}:kn,Ln=Ct&&"symbol"==typeof bn.iterator?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof bn},Dn=function(t,n,e){t===wn&&Dn(En,n,e),k(t);var r=s(n,!0);return k(e),h(An,r)?(e.enumerable?(h(t,pn)&&t[pn][r]&&(t[pn][r]=!1),e=Ut(e,{enumerable:g(0,!1)})):(h(t,pn)||kn(t,pn,g(1,{})),t[pn][r]=!0),Pn(t,r,e)):kn(t,r,e)},Fn=function(t){var n=s(t,!0),e=xn.call(this,n);return!(this===wn&&h(An,n)&&!h(En,n))&&(!(e||!h(this,n)||!h(An,n)||h(this,pn)&&this[pn][n])||e)},Mn=function(t){var n=t===wn,e=jn(n?En:f(t)),r=[];return hn(e,function(t){!h(An,t)||n&&!h(wn,t)||r.push(An[t])}),r};Ct||(lt((bn=function(t){if(this instanceof bn)throw TypeError("Symbol is not a constructor");var n=arguments.length&&void 0!==t?String(t):void 0,e=a(n),r=function(t){this===wn&&r.call(En,t),h(this,pn)&&h(this[pn],e)&&(this[pn][e]=!1),Pn(this,e,g(1,t))};return S&&Rn&&Pn(wn,e,{configurable:!0,set:r}),Yt(e,n)})[yn],"toString",function(){return mn(this).tag}),j.f=Fn,D.f=Dn,P.f=Kt,Ot.f=nn.f=Qt,_t.f=Mn,S&&(kn(bn[yn],"description",{configurable:!0,get:function(){return mn(this).description}}),lt(wn,"propertyIsEnumerable",Fn,{unsafe:!0})),on.f=function(t){return Yt(Vt(t),t)}),at({global:!0,wrap:!0,forced:!Ct,sham:!Ct},{Symbol:bn}),hn(Pt(Nn),function(t){Gt(t)}),at({target:vn,stat:!0,forced:!Ct},{for:function(t){var n=String(t);if(h(Tn,n))return Tn[n];var e=bn(n);return Tn[n]=e,In[e]=n,e},keyFor:function(t){if(!Ln(t))throw TypeError(t+" is not a symbol");if(h(In,t))return In[t]},useSetter:function(){Rn=!0},useSimple:function(){Rn=!1}}),at({target:"Object",stat:!0,forced:!Ct,sham:!S},{create:function(t,n){return void 0===n?Ut(t):$t(Ut(t),n)},defineProperty:Dn,defineProperties:$t,getOwnPropertyDescriptor:Kt}),at({target:"Object",stat:!0,forced:!Ct},{getOwnPropertyNames:Qt,getOwnPropertySymbols:Mn}),at({target:"Object",stat:!0,forced:d(function(){_t.f(1)})},{getOwnPropertySymbols:function(t){return _t.f(ct(t))}}),Sn&&at({target:"JSON",stat:!0,forced:!Ct||d(function(){var t=bn();return"[null]"!=On([t])||"{}"!=On({a:t})||"{}"!=On(Object(t))})},{stringify:function(t){for(var n,e,r=[t],o=1;o<arguments.length;)r.push(arguments[o++]);if(e=n=r[1],(m(n)||void 0!==t)&&!Ln(t))return Rt(n)||(n=function(t,n){if("function"==typeof e&&(n=e.call(this,t,n)),!Ln(n))return n}),r[1]=n,On.apply(Sn,r)}}),bn[yn][dn]||F(bn[yn],dn,bn[yn].valueOf),zt(bn,vn),B[pn]=!0;var Jn=D.f,Un=b.Symbol;if(!(!S||"function"!=typeof Un||"description"in Un.prototype&&void 0===Un().description)){var Vn={},Gn=function(t){var n=arguments.length<1||void 0===t?void 0:String(t),e=this instanceof Gn?new Un(n):void 0===n?Un():Un(n);return""===n&&(Vn[e]=!0),e};it(Gn,Un);var zn=Gn.prototype=Un.prototype;zn.constructor=Gn;var qn=zn.toString,Bn="Symbol(test)"==String(Un("test")),Wn=/^Symbol\((.*)\)[^)]+$/;Jn(zn,"description",{configurable:!0,get:function(){var t=m(this)?this.valueOf():this,n=qn.call(t);if(h(Vn,t))return"";var e=Bn?n.slice(7,-1):n.replace(Wn,"$1");return""===e?void 0:e}}),at({global:!0,forced:!0},{Symbol:Gn})}Gt("iterator");function Hn(t,n,e){var r=s(n);r in t?D.f(t,r,g(0,e)):t[r]=e}function Yn(n){return!d(function(){var t=[];return(t.constructor={})[Kn]=function(){return{foo:1}},1!==t[n](Boolean).foo})}function $n(t){if(!m(t))return!1;var n=t[Qn];return void 0!==n?!!n:Rt(t)}var Kn=Vt("species"),Qn=Vt("isConcatSpreadable"),Xn=9007199254740991,Zn="Maximum allowed index exceeded",te=!d(function(){var t=[];return t[Qn]=!1,t.concat()[0]!==t}),ne=Yn("concat");at({target:"Array",proto:!0,forced:!te||!ne},{concat:function(t){var n,e,r,o,i,u=ct(this),a=Wt(u,0),c=0;for(n=-1,r=arguments.length;n<r;n++)if($n(i=-1===n?u:arguments[n])){if(o=nt(i.length),Xn<c+o)throw TypeError(Zn);for(e=0;e<o;e++,c++)e in i&&Hn(a,c,i[e])}else{if(Xn<=c)throw TypeError(Zn);Hn(a,c++,i)}return a.length=c,a}});var ee=ln.filter;at({target:"Array",proto:!0,forced:!Yn("filter")},{filter:function(t,n){return ee(this,t,1<arguments.length?n:void 0)}});function re(t,n){var e=[][t];return!e||!d(function(){e.call(null,n||function(){throw 1},1)})}var oe=ln.forEach,ie=re("forEach")?function(t,n){return oe(this,t,1<arguments.length?n:void 0)}:[].forEach;at({target:"Array",proto:!0,forced:[].forEach!=ie},{forEach:ie});function ue(n,t,e,r){try{return r?t(k(e)[0],e[1]):t(e)}catch(t){var o=n.return;throw void 0!==o&&k(o.call(n)),t}}function ae(t){return void 0!==t&&(se.Array===t||he[le]===t)}function ce(t){var n,e,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(e=function(t,n){try{return t[n]}catch(t){}}(n=Object(t),pe))?e:ve?o(n):"Object"==(r=o(n))&&"function"==typeof n.callee?"Arguments":r}function fe(t){if(null!=t)return t[ye]||t["@@iterator"]||se[ce(t)]}var se={},le=Vt("iterator"),he=Array.prototype,pe=Vt("toStringTag"),ve="Arguments"==o(function(){return arguments}()),ye=Vt("iterator"),de=Vt("iterator"),ge=!1;try{var me=0;({next:function(){return{done:!!me++}},return:function(){ge=!0}})[de]=function(){return this}}catch(t){}function we(t,n){if(!n&&!ge)return!1;var e=!1;try{var r={};r[de]=function(){return{next:function(){return{done:e=!0}}}},t(r)}catch(t){}return e}var be=!we(function(t){});at({target:"Array",stat:!0,forced:be},{from:function(t,n,e){var r,o,i,u,a=ct(t),c="function"==typeof this?this:Array,f=arguments.length,s=1<f?n:void 0,l=void 0!==s,h=0,p=fe(a);if(l&&(s=Bt(s,2<f?e:void 0,2)),null==p||c==Array&&ae(p))for(o=new c(r=nt(a.length));h<r;h++)Hn(o,h,l?s(a[h],h):a[h]);else for(u=p.call(a),o=new c;!(i=u.next()).done;h++)Hn(o,h,l?ue(u,s,[i.value,h],!0):i.value);return o.length=h,o}});var Se=Vt("unscopables"),Oe=Array.prototype;null==Oe[Se]&&F(Oe,Se,Ut(null));function _e(t){Oe[Se][t]=!0}var ke=mt.includes;at({target:"Array",proto:!0},{includes:function(t,n){return ke(this,t,1<arguments.length?n:void 0)}}),_e("includes");var je,xe,Ae,Ee=!d(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}),Te=u("IE_PROTO"),Ie=Object.prototype,Ne=Ee?Object.getPrototypeOf:function(t){return t=ct(t),h(t,Te)?t[Te]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?Ie:null},Ce=Vt("iterator"),Re=!1;[].keys&&("next"in(Ae=[].keys())?(xe=Ne(Ne(Ae)))!==Object.prototype&&(je=xe):Re=!0),null==je&&(je={}),h(je,Ce)||F(je,Ce,function(){return this});function Pe(){return this}function Le(){return this}function De(t,n,e,r,o,i,u){function a(t){if(t===o&&y)return y;if(!Ve&&t in p)return p[t];switch(t){case"keys":case ze:case qe:return function(){return new e(this,t)}}return function(){return new e(this)}}!function(t,n,e){var r=n+" Iterator";t.prototype=Ut(Me,{next:g(1,e)}),zt(t,r,!1),se[r]=Pe}(e,n,r);var c,f,s,l=n+" Iterator",h=!1,p=t.prototype,v=p[Ge]||p["@@iterator"]||o&&p[o],y=!Ve&&v||a(o),d="Array"==n&&p.entries||v;if(d&&(c=Ne(d.call(new t)),Ue!==Object.prototype&&c.next&&(Ne(c)!==Ue&&(Je?Je(c,Ue):"function"!=typeof c[Ge]&&F(c,Ge,Le)),zt(c,l,!0))),o==ze&&v&&v.name!==ze&&(h=!0,y=function(){return v.call(this)}),p[Ge]!==y&&F(p,Ge,y),se[n]=y,o)if(f={values:a(ze),keys:i?y:a("keys"),entries:a(qe)},u)for(s in f)!Ve&&!h&&s in p||lt(p,s,f[s]);else at({target:n,proto:!0,forced:Ve||h},f);return f}var Fe={IteratorPrototype:je,BUGGY_SAFARI_ITERATORS:Re},Me=Fe.IteratorPrototype,Je=Object.setPrototypeOf||("__proto__"in{}?function(){var e,r=!1,t={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(t,[]),r=t instanceof Array}catch(t){}return function(t,n){return k(t),function(t){if(!m(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype")}(n),r?e.call(t,n):t.__proto__=n,t}}():void 0),Ue=Fe.IteratorPrototype,Ve=Fe.BUGGY_SAFARI_ITERATORS,Ge=Vt("iterator"),ze="values",qe="entries",Be="Array Iterator",We=st.set,He=st.getterFor(Be),Ye=De(Array,"Array",function(t,n){We(this,{type:Be,target:f(t),index:0,kind:n})},function(){var t=He(this),n=t.target,e=t.kind,r=t.index++;return!n||r>=n.length?{value:t.target=void 0,done:!0}:"keys"==e?{value:r,done:!1}:"values"==e?{value:n[r],done:!1}:{value:[r,n[r]],done:!1}},"values");se.Arguments=se.Array,_e("keys"),_e("values"),_e("entries");var $e=[].join,Ke=E!=Object,Qe=re("join",",");at({target:"Array",proto:!0,forced:Ke||Qe},{join:function(t){return $e.call(f(this),void 0===t?",":t)}});var Xe=ln.map;at({target:"Array",proto:!0,forced:!Yn("map")},{map:function(t,n){return Xe(this,t,1<arguments.length?n:void 0)}});function Ze(f){return function(t,n,e,r){qt(n);var o=ct(t),i=E(o),u=nt(o.length),a=f?u-1:0,c=f?-1:1;if(e<2)for(;;){if(a in i){r=i[a],a+=c;break}if(a+=c,f?a<0:u<=a)throw TypeError("Reduce of empty array with no initial value")}for(;f?0<=a:a<u;a+=c)a in i&&(r=n(r,i[a],a,o));return r}}var tr={left:Ze(!1),right:Ze(!0)},nr=tr.left;at({target:"Array",proto:!0,forced:re("reduce")},{reduce:function(t,n){return nr(this,t,arguments.length,1<arguments.length?n:void 0)}});var er=tr.right;at({target:"Array",proto:!0,forced:re("reduceRight")},{reduceRight:function(t,n){return er(this,t,arguments.length,1<arguments.length?n:void 0)}});var rr=Vt("species"),or=[].slice,ir=Math.max;at({target:"Array",proto:!0,forced:!Yn("slice")},{slice:function(t,n){var e,r,o,i=f(this),u=nt(i.length),a=et(t,u),c=et(void 0===n?u:n,u);if(Rt(i)&&("function"!=typeof(e=i.constructor)||e!==Array&&!Rt(e.prototype)?m(e)&&null===(e=e[rr])&&(e=void 0):e=void 0,e===Array||void 0===e))return or.call(i,a,c);for(r=new(void 0===e?Array:e)(ir(c-a,0)),o=0;a<c;a++,o++)a in i&&Hn(r,o,i[a]);return r.length=o,r}});var ur=[].sort,ar=[1,2,3],cr=d(function(){ar.sort(void 0)}),fr=d(function(){ar.sort(null)}),sr=re("sort");at({target:"Array",proto:!0,forced:cr||!fr||sr},{sort:function(t){return void 0===t?ur.call(ct(this)):ur.call(ct(this),qt(t))}});var lr=d(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})});at({target:"Date",proto:!0,forced:lr},{toJSON:function(t){var n=ct(this),e=s(n);return"number"!=typeof e||isFinite(e)?n.toISOString():null}});var hr=D.f,pr=Function.prototype,vr=pr.toString,yr=/^\s*function ([^ (]*)/;!S||"name"in pr||hr(pr,"name",{configurable:!0,get:function(){try{return vr.call(this).match(yr)[1]}catch(t){return""}}});var dr=Object.assign,gr=!dr||d(function(){var t={},n={},e=Symbol(),r="abcdefghijklmnopqrst";return t[e]=7,r.split("").forEach(function(t){n[t]=t}),7!=dr({},t)[e]||Pt(dr({},n)).join("")!=r})?function(t,n){for(var e=ct(t),r=arguments.length,o=1,i=_t.f,u=j.f;o<r;)for(var a,c=E(arguments[o++]),f=i?Pt(c).concat(i(c)):Pt(c),s=f.length,l=0;l<s;)a=f[l++],S&&!u.call(c,a)||(e[a]=c[a]);return e}:dr;at({target:"Object",stat:!0,forced:Object.assign!==gr},{assign:gr});function mr(a){return function(t){for(var n,e=f(t),r=Pt(e),o=r.length,i=0,u=[];i<o;)n=r[i++],S&&!wr.call(e,n)||u.push(a?[n,e[n]]:e[n]);return u}}var wr=j.f,br={entries:mr(!0),values:mr(!1)},Sr=br.entries;at({target:"Object",stat:!0},{entries:function(t){return Sr(t)}});var Or=Object.is||function(t,n){return t===n?0!==t||1/t==1/n:t!=t&&n!=n};at({target:"Object",stat:!0},{is:Or});var _r=d(function(){Pt(1)});at({target:"Object",stat:!0,forced:_r},{keys:function(t){return Pt(ct(t))}});var kr={};kr[Vt("toStringTag")]="z";var jr="[object z]"!==String(kr)?function(){return"[object "+ce(this)+"]"}:kr.toString,xr=Object.prototype;jr!==xr.toString&&lt(xr,"toString",jr,{unsafe:!0});var Ar=br.values;at({target:"Object",stat:!0},{values:function(t){return Ar(t)}});function Er(){var t=k(this),n="";return t.global&&(n+="g"),t.ignoreCase&&(n+="i"),t.multiline&&(n+="m"),t.dotAll&&(n+="s"),t.unicode&&(n+="u"),t.sticky&&(n+="y"),n}var Tr,Ir,Nr=RegExp.prototype.exec,Cr=String.prototype.replace,Rr=Nr,Pr=(Tr=/a/,Ir=/b*/g,Nr.call(Tr,"a"),Nr.call(Ir,"a"),0!==Tr.lastIndex||0!==Ir.lastIndex),Lr=void 0!==/()??/.exec("")[1];(Pr||Lr)&&(Rr=function(t){var n,e,r,o,i=this;return Lr&&(e=new RegExp("^"+i.source+"$(?!\\s)",Er.call(i))),Pr&&(n=i.lastIndex),r=Nr.call(i,t),Pr&&r&&(i.lastIndex=i.global?r.index+r[0].length:n),Lr&&r&&1<r.length&&Cr.call(r[0],e,function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(r[o]=void 0)}),r});var Dr=Rr;at({target:"RegExp",proto:!0,forced:/./.exec!==Dr},{exec:Dr});function Fr(t,n,e){if(!(t instanceof n))throw TypeError("Incorrect "+(e?e+" ":"")+"invocation");return t}function Mr(t,n,e){var r,o;return Je&&"function"==typeof(r=n.constructor)&&r!==e&&m(o=r.prototype)&&o!==e.prototype&&Je(t,o),t}function Jr(t,n,e){for(var r in n)lt(t,r,n[r],e);return t}function Ur(t){var n=Z(t),e=D.f;S&&n&&!n[Hr]&&e(n,Hr,{configurable:!0,get:function(){return this}})}function Vr(t){var n;return m(t)&&(void 0!==(n=t[Xr])?!!n:"RegExp"==o(t))}function Gr(t){if(Vr(t))throw TypeError("The method doesn't accept regular expressions");return t}function zr(n){var e=/./;try{"/./"[n](e)}catch(t){try{return e[Zr]=!1,"/./"[n](e)}catch(t){}}return!1}var qr=!d(function(){return Object.isExtensible(Object.preventExtensions({}))}),Br=e(function(t){function e(t){n(t,r,{value:{objectID:"O"+ ++o,weakData:{}}})}var n=D.f,r=a("meta"),o=0,i=Object.isExtensible||function(){return!0},u=t.exports={REQUIRED:!1,fastKey:function(t,n){if(!m(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!h(t,r)){if(!i(t))return"F";if(!n)return"E";e(t)}return t[r].objectID},getWeakData:function(t,n){if(!h(t,r)){if(!i(t))return!0;if(!n)return!1;e(t)}return t[r].weakData},onFreeze:function(t){return qr&&u.REQUIRED&&i(t)&&!h(t,r)&&e(t),t}};B[r]=!0}),Wr=(Br.REQUIRED,Br.fastKey,Br.getWeakData,Br.onFreeze,e(function(t){function h(t,n){this.stopped=t,this.result=n}(t.exports=function(t,n,e,r,o){var i,u,a,c,f,s,l=Bt(n,e,r?2:1);if(o)i=t;else{if("function"!=typeof(u=fe(t)))throw TypeError("Target is not iterable");if(ae(u)){for(a=0,c=nt(t.length);a<c;a++)if((f=r?l(k(s=t[a])[0],s[1]):l(t[a]))&&f instanceof h)return f;return new h(!1)}i=u.call(t)}for(;!(s=i.next()).done;)if((f=ue(i,l,s.value,r))&&f instanceof h)return f;return new h(!1)}).stop=function(t){return new h(!0,t)}})),Hr=Vt("species"),Yr=D.f,$r=Br.fastKey,Kr=st.set,Qr=st.getterFor,Xr=(function(r,t,n,o,i){function e(t){var e=a[t];lt(a,t,"add"==t?function(t){return e.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(i&&!m(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return i&&!m(t)?void 0:e.call(this,0===t?0:t)}:"has"==t?function(t){return!(i&&!m(t))&&e.call(this,0===t?0:t)}:function(t,n){return e.call(this,0===t?0:t,n),this})}var u=b[r],a=u&&u.prototype,c=u,f=o?"set":"add",s={};if(It(r,"function"!=typeof u||!(i||a.forEach&&!d(function(){(new u).entries().next()}))))c=n.getConstructor(t,r,o,f),Br.REQUIRED=!0;else if(It(r,!0)){var l=new c,h=l[f](i?{}:-0,1)!=l,p=d(function(){l.has(1)}),v=we(function(t){new u(t)}),y=!i&&d(function(){for(var t=new u,n=5;n--;)t[f](n,n);return!t.has(-0)});v||(((c=t(function(t,n){Fr(t,c,r);var e=Mr(new u,t,c);return null!=n&&Wr(n,e[f],e,o),e})).prototype=a).constructor=c),(p||y)&&(e("delete"),e("has"),o&&e("get")),(y||h)&&e(f),i&&a.clear&&delete a.clear}s[r]=c,at({global:!0,forced:c!=u},s),zt(c,r),i||n.setStrong(c,r,o)}("Set",function(n){return function(t){return n(this,arguments.length?t:void 0)}},{getConstructor:function(t,e,r,o){function i(t,n,e){var r,o,i=a(t),u=c(t,n);return u?u.value=e:(i.last=u={index:o=$r(n,!0),key:n,value:e,previous:r=i.last,next:void 0,removed:!1},i.first||(i.first=u),r&&(r.next=u),S?i.size++:t.size++,"F"!==o&&(i.index[o]=u)),t}var u=t(function(t,n){Fr(t,u,e),Kr(t,{type:e,index:Ut(null),first:void 0,last:void 0,size:0}),S||(t.size=0),null!=n&&Wr(n,t[o],t,r)}),a=Qr(e),c=function(t,n){var e,r=a(t),o=$r(n);if("F"!==o)return r.index[o];for(e=r.first;e;e=e.next)if(e.key==n)return e};return Jr(u.prototype,{clear:function(){for(var t=a(this),n=t.index,e=t.first;e;)e.removed=!0,e.previous&&(e.previous=e.previous.next=void 0),delete n[e.index],e=e.next;t.first=t.last=void 0,S?t.size=0:this.size=0},delete:function(t){var n=a(this),e=c(this,t);if(e){var r=e.next,o=e.previous;delete n.index[e.index],e.removed=!0,o&&(o.next=r),r&&(r.previous=o),n.first==e&&(n.first=r),n.last==e&&(n.last=o),S?n.size--:this.size--}return!!e},forEach:function(t,n){for(var e,r=a(this),o=Bt(t,1<arguments.length?n:void 0,3);e=e?e.next:r.first;)for(o(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!c(this,t)}}),Jr(u.prototype,r?{get:function(t){var n=c(this,t);return n&&n.value},set:function(t,n){return i(this,0===t?0:t,n)}}:{add:function(t){return i(this,t=0===t?0:t,t)}}),S&&Yr(u.prototype,"size",{get:function(){return a(this).size}}),u},setStrong:function(t,n,e){var r=n+" Iterator",o=Qr(n),i=Qr(r);De(t,n,function(t,n){Kr(this,{type:r,target:t,state:o(t),kind:n,last:void 0})},function(){for(var t=i(this),n=t.kind,e=t.last;e&&e.removed;)e=e.previous;return t.target&&(t.last=e=e?e.next:t.state.first)?"keys"==n?{value:e.key,done:!1}:"values"==n?{value:e.value,done:!1}:{value:[e.key,e.value],done:!1}:{value:t.target=void 0,done:!0}},e?"entries":"values",!e,!0),Ur(n)}}),Vt("match")),Zr=Vt("match");at({target:"String",proto:!0,forced:!zr("includes")},{includes:function(t,n){return!!~String(l(this)).indexOf(Gr(t),1<arguments.length?n:void 0)}});function to(a){return function(t,n){var e,r,o=String(l(t)),i=tt(n),u=o.length;return i<0||u<=i?a?"":void 0:(e=o.charCodeAt(i))<55296||56319<e||i+1===u||(r=o.charCodeAt(i+1))<56320||57343<r?a?o.charAt(i):e:a?o.slice(i,i+2):r-56320+(e-55296<<10)+65536}}var no={codeAt:to(!1),charAt:to(!0)},eo=no.charAt,ro="String Iterator",oo=st.set,io=st.getterFor(ro);De(String,"String",function(t){oo(this,{type:ro,string:String(t),index:0})},function(){var t,n=io(this),e=n.string,r=n.index;return r>=e.length?{value:void 0,done:!0}:(t=eo(e,r),n.index+=t.length,{value:t,done:!1})});function uo(e,t,n,r){var o=Vt(e),i=!d(function(){var t={};return t[o]=function(){return 7},7!=""[e](t)}),u=i&&!d(function(){var t=!1,n=/a/;return n.exec=function(){return t=!0,null},"split"===e&&(n.constructor={},n.constructor[fo]=function(){return n}),n[o](""),!t});if(!i||!u||"replace"===e&&!so||"split"===e&&!lo){var a=/./[o],c=n(o,""[e],function(t,n,e,r,o){return n.exec===Dr?i&&!o?{done:!0,value:a.call(n,e,r)}:{done:!0,value:t.call(e,n,r)}:{done:!1}}),f=c[0],s=c[1];lt(String.prototype,e,f),lt(RegExp.prototype,o,2==t?function(t,n){return s.call(t,this,n)}:function(t){return s.call(t,this)}),r&&F(RegExp.prototype[o],"sham",!0)}}function ao(t,n,e){return n+(e?ho(t,n).length:1)}function co(t,n){var e=t.exec;if("function"==typeof e){var r=e.call(t,n);if("object"!=typeof r)throw TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==o(t))throw TypeError("RegExp#exec called on incompatible receiver");return Dr.call(t,n)}var fo=Vt("species"),so=!d(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}),lo=!d(function(){var t=/(?:)/,n=t.exec;t.exec=function(){return n.apply(this,arguments)};var e="ab".split(t);return 2!==e.length||"a"!==e[0]||"b"!==e[1]}),ho=no.charAt,po=Math.max,vo=Math.min,yo=Math.floor,go=/\$([$&'`]|\d\d?|<[^>]*>)/g,mo=/\$([$&'`]|\d\d?)/g;uo("replace",2,function(o,S,O){return[function(t,n){var e=l(this),r=null==t?void 0:t[o];return void 0!==r?r.call(t,e,n):S.call(String(e),t,n)},function(t,n){var e=O(S,t,this,n);if(e.done)return e.value;var r=k(t),o=String(this),i="function"==typeof n;i||(n=String(n));var u=r.global;if(u){var a=r.unicode;r.lastIndex=0}for(var c=[];;){var f=co(r,o);if(null===f)break;if(c.push(f),!u)break;""===String(f[0])&&(r.lastIndex=ao(o,nt(r.lastIndex),a))}for(var s,l="",h=0,p=0;p<c.length;p++){f=c[p];for(var v=String(f[0]),y=po(vo(tt(f.index),o.length),0),d=[],g=1;g<f.length;g++)d.push(void 0===(s=f[g])?s:String(s));var m=f.groups;if(i){var w=[v].concat(d,y,o);void 0!==m&&w.push(m);var b=String(n.apply(void 0,w))}else b=_(v,o,y,d,m,n);h<=y&&(l+=o.slice(h,y)+b,h=y+v.length)}return l+o.slice(h)}];function _(i,u,a,c,f,t){var s=a+i.length,l=c.length,n=mo;return void 0!==f&&(f=ct(f),n=go),S.call(t,n,function(t,n){var e;switch(n.charAt(0)){case"$":return"$";case"&":return i;case"`":return u.slice(0,a);case"'":return u.slice(s);case"<":e=f[n.slice(1,-1)];break;default:var r=+n;if(0==r)return t;if(l<r){var o=yo(r/10);return 0===o?t:o<=l?void 0===c[o-1]?n.charAt(1):c[o-1]+n.charAt(1):t}e=c[r-1]}return void 0===e?"":e})}});at({target:"Set",proto:!0,real:!0,forced:!1},{addAll:function(){return function(){for(var t=k(this),n=qt(t.add),e=0,r=arguments.length;e<r;e++)n.call(t,arguments[e]);return t}.apply(this,arguments)}});at({target:"Set",proto:!0,real:!0,forced:!1},{deleteAll:function(){return function(){for(var t,n=k(this),e=qt(n.delete),r=!0,o=0,i=arguments.length;o<i;o++)t=e.call(n,arguments[o]),r=r&&t;return!!r}.apply(this,arguments)}});function wo(t,n){var e,r=k(t).constructor;return void 0===r||null==(e=k(r)[bo])?n:qt(e)}var bo=Vt("species");at({target:"Set",proto:!0,real:!0,forced:!1},{difference:function(t){var n=k(this),e=new(wo(n,Z("Set")))(n),r=qt(e.delete);return Wr(t,function(t){r.call(e,t)}),e}});function So(t){return Set.prototype.values.call(t)}at({target:"Set",proto:!0,real:!0,forced:!1},{every:function(t,n){var e=k(this),r=So(e),o=Bt(t,1<arguments.length?n:void 0,3);return!Wr(r,function(t){if(!o(t,t,e))return Wr.stop()},void 0,!1,!0).stopped}}),at({target:"Set",proto:!0,real:!0,forced:!1},{filter:function(t,n){var e=k(this),r=So(e),o=Bt(t,1<arguments.length?n:void 0,3),i=new(wo(e,Z("Set"))),u=qt(i.add);return Wr(r,function(t){o(t,t,e)&&u.call(i,t)},void 0,!1,!0),i}}),at({target:"Set",proto:!0,real:!0,forced:!1},{find:function(t,n){var e=k(this),r=So(e),o=Bt(t,1<arguments.length?n:void 0,3);return Wr(r,function(t){if(o(t,t,e))return Wr.stop(t)},void 0,!1,!0).result}}),at({target:"Set",proto:!0,real:!0,forced:!1},{intersection:function(t){var n=k(this),e=new(wo(n,Z("Set"))),r=qt(n.has),o=qt(e.add);return Wr(t,function(t){r.call(n,t)&&o.call(e,t)}),e}}),at({target:"Set",proto:!0,real:!0,forced:!1},{isDisjointFrom:function(t){var n=k(this),e=qt(n.has);return!Wr(t,function(t){if(!0===e.call(n,t))return Wr.stop()}).stopped}}),at({target:"Set",proto:!0,real:!0,forced:!1},{isSubsetOf:function(t){var n=function(t){var n=fe(t);if("function"!=typeof n)throw TypeError(String(t)+" is not iterable");return k(n.call(t))}(this),e=k(t),r=e.has;return"function"!=typeof r&&(e=new(Z("Set"))(t),r=qt(e.has)),!Wr(n,function(t){if(!1===r.call(e,t))return Wr.stop()},void 0,!1,!0).stopped}}),at({target:"Set",proto:!0,real:!0,forced:!1},{isSupersetOf:function(t){var n=k(this),e=qt(n.has);return!Wr(t,function(t){if(!1===e.call(n,t))return Wr.stop()}).stopped}}),at({target:"Set",proto:!0,real:!0,forced:!1},{join:function(t){var n=k(this),e=So(n),r=void 0===t?",":String(t),o=[];return Wr(e,o.push,o,!1,!0),o.join(r)}}),at({target:"Set",proto:!0,real:!0,forced:!1},{map:function(t,n){var e=k(this),r=So(e),o=Bt(t,1<arguments.length?n:void 0,3),i=new(wo(e,Z("Set"))),u=qt(i.add);return Wr(r,function(t){u.call(i,o(t,t,e))},void 0,!1,!0),i}}),at({target:"Set",proto:!0,real:!0,forced:!1},{reduce:function(n,t){var e,r,o=k(this),i=So(o);if(qt(n),1<arguments.length)e=t;else{if((r=i.next()).done)throw TypeError("Reduce of empty set with no initial value");e=r.value}return Wr(i,function(t){e=n(e,t,t,o)},void 0,!1,!0),e}}),at({target:"Set",proto:!0,real:!0,forced:!1},{some:function(t,n){var e=k(this),r=So(e),o=Bt(t,1<arguments.length?n:void 0,3);return Wr(r,function(t){if(o(t,t,e))return Wr.stop()},void 0,!1,!0).stopped}}),at({target:"Set",proto:!0,real:!0,forced:!1},{symmetricDifference:function(t){var n=k(this),e=new(wo(n,Z("Set")))(n),r=qt(e.delete),o=qt(e.add);return Wr(t,function(t){r.call(e,t)||o.call(e,t)}),e}}),at({target:"Set",proto:!0,real:!0,forced:!1},{union:function(t){var n=k(this),e=new(wo(n,Z("Set")))(n);return Wr(t,qt(e.add),e),e}});var Oo={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0};for(var _o in Oo){var ko=b[_o],jo=ko&&ko.prototype;if(jo&&jo.forEach!==ie)try{F(jo,"forEach",ie)}catch(t){jo.forEach=ie}}var xo=Vt("iterator"),Ao=Vt("toStringTag"),Eo=Ye.values;for(var To in Oo){var Io=b[To],No=Io&&Io.prototype;if(No){if(No[xo]!==Eo)try{F(No,xo,Eo)}catch(t){No[xo]=Eo}if(No[Ao]||F(No,Ao,To),Oo[To])for(var Co in Ye)if(No[Co]!==Ye[Co])try{F(No,Co,Ye[Co])}catch(t){No[Co]=Ye[Co]}}}function Ro(t){return(Ro="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Po(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function Lo(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Do(t,n,e){return n&&Lo(t.prototype,n),e&&Lo(t,e),t}function Fo(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function Mo(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})),e.push.apply(e,r)}return e}function Jo(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?Mo(e,!0).forEach(function(t){Fo(n,t,e[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):Mo(e).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))})}return n}function Uo(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&Go(t,n)}function Vo(t){return(Vo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Go(t,n){return(Go=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function zo(t,n,e){return(zo=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()?Reflect.construct:function(t,n,e){var r=[null];r.push.apply(r,n);var o=new(Function.bind.apply(t,r));return e&&Go(o,e.prototype),o}).apply(null,arguments)}function qo(t){var e="function"==typeof Map?new Map:void 0;return(qo=function(t){if(null===t||!function(t){return-1!==Function.toString.call(t).indexOf("[native code]")}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return zo(t,arguments,Vo(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Go(n,t)})(t)}function Bo(t,n){if(null==t)return{};var e,r,o=function(t,n){if(null==t)return{};var e,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)e=i[r],0<=n.indexOf(e)||(o[e]=t[e]);return o}(t,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)e=i[r],0<=n.indexOf(e)||Object.prototype.propertyIsEnumerable.call(t,e)&&(o[e]=t[e])}return o}function Wo(t,n){return!n||"object"!=typeof n&&"function"!=typeof n?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):n}function Ho(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){var e=[],r=!0,o=!1,i=void 0;try{for(var u,a=t[Symbol.iterator]();!(r=(u=a.next()).done)&&(e.push(u.value),!n||e.length!==n);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return e}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Yo(t){return function(t){if(Array.isArray(t)){for(var n=0,e=new Array(t.length);n<t.length;n++)e[n]=t[n];return e}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}at({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return URL.prototype.toString.call(this)}});e(function(t){var n=function(i){var c,t=Object.prototype,f=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",e=n.asyncIterator||"@@asyncIterator",r=n.toStringTag||"@@toStringTag";function u(t,n,e,r){var o=n&&n.prototype instanceof a?n:a,i=Object.create(o.prototype),u=new A(r||[]);return i._invoke=function(i,u,a){var c=l;return function(t,n){if(c===p)throw new Error("Generator is already running");if(c===v){if("throw"===t)throw n;return T()}for(a.method=t,a.arg=n;;){var e=a.delegate;if(e){var r=k(e,a);if(r){if(r===y)continue;return r}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(c===l)throw c=v,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);c=p;var o=s(i,u,a);if("normal"===o.type){if(c=a.done?v:h,o.arg===y)continue;return{value:o.arg,done:a.done}}"throw"===o.type&&(c=v,a.method="throw",a.arg=o.arg)}}}(t,e,u),i}function s(t,n,e){try{return{type:"normal",arg:t.call(n,e)}}catch(t){return{type:"throw",arg:t}}}i.wrap=u;var l="suspendedStart",h="suspendedYield",p="executing",v="completed",y={};function a(){}function d(){}function g(){}var m={};m[o]=function(){return this};var w=Object.getPrototypeOf,b=w&&w(w(E([])));b&&b!==t&&f.call(b,o)&&(m=b);var S=g.prototype=a.prototype=Object.create(m);function O(t){["next","throw","return"].forEach(function(n){t[n]=function(t){return this._invoke(n,t)}})}function _(c){var n;this._invoke=function(e,r){function t(){return new Promise(function(t,n){!function n(t,e,r,o){var i=s(c[t],c,e);if("throw"!==i.type){var u=i.arg,a=u.value;return a&&"object"==typeof a&&f.call(a,"__await")?Promise.resolve(a.__await).then(function(t){n("next",t,r,o)},function(t){n("throw",t,r,o)}):Promise.resolve(a).then(function(t){u.value=t,r(u)},function(t){return n("throw",t,r,o)})}o(i.arg)}(e,r,t,n)})}return n=n?n.then(t,t):t()}}function k(t,n){var e=t.iterator[n.method];if(e===c){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=c,k(t,n),"throw"===n.method))return y;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return y}var r=s(e,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,y;var o=r.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=c),n.delegate=null,y):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function j(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function x(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function E(n){if(n){var t=n[o];if(t)return t.call(n);if("function"==typeof n.next)return n;if(!isNaN(n.length)){var e=-1,r=function t(){for(;++e<n.length;)if(f.call(n,e))return t.value=n[e],t.done=!1,t;return t.value=c,t.done=!0,t};return r.next=r}}return{next:T}}function T(){return{value:c,done:!0}}return d.prototype=S.constructor=g,g.constructor=d,g[r]=d.displayName="GeneratorFunction",i.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===d||"GeneratorFunction"===(n.displayName||n.name))},i.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,r in t||(t[r]="GeneratorFunction")),t.prototype=Object.create(S),t},i.awrap=function(t){return{__await:t}},O(_.prototype),_.prototype[e]=function(){return this},i.AsyncIterator=_,i.async=function(t,n,e,r){var o=new _(u(t,n,e,r));return i.isGeneratorFunction(n)?o:o.next().then(function(t){return t.done?t.value:o.next()})},O(S),S[r]="Generator",S[o]=function(){return this},S.toString=function(){return"[object Generator]"},i.keys=function(e){var r=[];for(var t in e)r.push(t);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},i.values=E,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=c,this.done=!1,this.delegate=null,this.method="next",this.arg=c,this.tryEntries.forEach(x),!t)for(var n in this)"t"===n.charAt(0)&&f.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=c)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function t(t,n){return i.type="throw",i.arg=e,r.next=t,n&&(r.method="next",r.arg=c),!!n}for(var n=this.tryEntries.length-1;0<=n;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var u=f.call(o,"catchLoc"),a=f.call(o,"finallyLoc");if(u&&a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(t,n){for(var e=this.tryEntries.length-1;0<=e;--e){var r=this.tryEntries[e];if(r.tryLoc<=this.prev&&f.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=n&&n<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=n,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),y},finish:function(t){for(var n=this.tryEntries.length-1;0<=n;--n){var e=this.tryEntries[n];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),x(e),y}},catch:function(t){for(var n=this.tryEntries.length-1;0<=n;--n){var e=this.tryEntries[n];if(e.tryLoc===t){var r=e.completion;if("throw"===r.type){var o=r.arg;x(e)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,e){return this.delegate={iterator:E(t),resultName:n,nextLoc:e},"next"===this.method&&(this.arg=c),y}},i}(t.exports);try{regeneratorRuntime=n}catch(t){Function("r","regeneratorRuntime = r")(n)}});function $o(e){return function(t){var n=String(l(t));return 1&e&&(n=n.replace(Xo,"")),2&e&&(n=n.replace(Zo,"")),n}}var Ko="\t\n\v\f\r Â áââââââââââââ¯âã\u2028\u2029\ufeff",Qo="["+Ko+"]",Xo=RegExp("^"+Qo+Qo+"*"),Zo=RegExp(Qo+Qo+"*$"),ti={start:$o(1),end:$o(2),trim:$o(3)},ni=ti.trim,ei=b.parseFloat,ri=1/ei(Ko+"-0")!=-1/0?function(t){var n=ni(String(t)),e=ei(n);return 0===e&&"-"==n.charAt(0)?-0:e}:ei;at({global:!0,forced:parseFloat!=ri},{parseFloat:ri});var oi=[].push,ii=Math.min,ui=4294967295,ai=!d(function(){return!RegExp(ui,"y")});uo("split",2,function(o,d,g){var m;return m="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||1<".".split(/()()/).length||"".split(/.?/).length?function(t,n){var e=String(l(this)),r=void 0===n?ui:n>>>0;if(0==r)return[];if(void 0===t)return[e];if(!Vr(t))return d.call(e,t,r);for(var o,i,u,a=[],c=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),f=0,s=new RegExp(t.source,c+"g");(o=Dr.call(s,e))&&!(f<(i=s.lastIndex)&&(a.push(e.slice(f,o.index)),1<o.length&&o.index<e.length&&oi.apply(a,o.slice(1)),u=o[0].length,f=i,a.length>=r));)s.lastIndex===o.index&&s.lastIndex++;return f===e.length?!u&&s.test("")||a.push(""):a.push(e.slice(f)),a.length>r?a.slice(0,r):a}:"0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:d.call(this,t,n)}:d,[function(t,n){var e=l(this),r=null==t?void 0:t[o];return void 0!==r?r.call(t,e,n):m.call(String(e),t,n)},function(t,n){var e=g(m,t,this,n,m!==d);if(e.done)return e.value;var r=k(t),o=String(this),i=wo(r,RegExp),u=r.unicode,a=(r.ignoreCase?"i":"")+(r.multiline?"m":"")+(r.unicode?"u":"")+(ai?"y":"g"),c=new i(ai?r:"^(?:"+r.source+")",a),f=void 0===n?ui:n>>>0;if(0==f)return[];if(0===o.length)return null===co(c,o)?[o]:[];for(var s=0,l=0,h=[];l<o.length;){c.lastIndex=ai?l:0;var p,v=co(c,ai?o:o.slice(l));if(null===v||(p=ii(nt(c.lastIndex+(ai?0:l)),o.length))===s)l=ao(o,l,u);else{if(h.push(o.slice(s,l)),h.length===f)return h;for(var y=1;y<=v.length-1;y++)if(h.push(v[y]),h.length===f)return h;l=s=p}}return h.push(o.slice(s)),h}]},!ai);var ci=regeneratorRuntime.mark(pi),fi=regeneratorRuntime.mark(vi);function si(t){return!isNaN(parseFloat(t))&&isFinite(t)}function li(n,e,t){return 2<arguments.length&&void 0!==t&&t?Object.keys(n).map(function(t){return n[t]===e[t]}).reduce(function(t,n){return t?n:t},!0):0===Yo(new Set(n.filter(function(t){return!new Set(e).has(t)}))).length}function hi(t){var n=t.map(function(t){return t.length}).reduce(function(t,n){return Math.max(t,n)},0);return Yo(Array(n).keys()).map(function(n){return t.map(function(t){return t[n]})})}function pi(n){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.delegateYield(n,"t0",1);case 1:case"end":return t.stop()}},ci)}function vi(n,e){var r,o,i,u,a,c,f,s,l,h=arguments;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=2<h.length&&void 0!==h[2]?h[2]:function(){return!1},u=!(i=!(o=0)),a=void 0,t.prev=5,c=n[Symbol.iterator]();case 7:if(i=(f=c.next()).done){t.next=18;break}if(s=f.value,r())return t.abrupt("return");t.next=11;break;case 11:if(l=e(s,o++))return t.next=15,l;t.next=15;break;case 15:i=!0,t.next=7;break;case 18:t.next=24;break;case 20:t.prev=20,t.t0=t.catch(5),u=!0,a=t.t0;case 24:t.prev=24,t.prev=25,i||null==c.return||c.return();case 27:if(t.prev=27,u)throw a;t.next=30;break;case 30:return t.finish(27);case 31:return t.finish(24);case 32:case"end":return t.stop()}},fi,null,[[5,20,24,32],[25,,27,31]])}function yi(t,n,e){var r=2<arguments.length&&void 0!==e?e:function(){return!1};return Array.from(vi(t,n,r))}function di(t){for(var n=arguments.length,e=new Array(1<n?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];return e.reduce(function(t,n){return t.split(n[0]).join(n[1])},t)}function gi(n){for(var t=arguments.length,e=new Array(1<t?t-1:0),r=1;r<t;r++)e[r-1]=arguments[r];return e.filter(function(t){return n.includes(t)})}var mi=function(){function e(t){var n;return Po(this,e),(n=Wo(this,Vo(e).call(this,Error))).message="".concat(t," not found. You maybe use a wrong path or url. Be sure you use absolute path, relative one being not supported."),n.name="FileNotFoundError",n}return Uo(e,qo(Error)),e}(),wi=function(){function o(){var t;Po(this,o),t=Wo(this,Vo(o).call(this,TypeError));for(var n=arguments.length,e=new Array(n),r=0;r<n;r++)e[r]=arguments[r];return t.message="can't work with multiple variable types: [".concat(e.join(","),"]."),t.name="MixedTypeError",t}return Uo(o,qo(TypeError)),o}(),bi=function(){function r(t,n){var e;return Po(this,r),(e=Wo(this,Vo(r).call(this,Error))).message="".concat(t," not found in [").concat(n.join(", "),"]."),e.name="NoSuchColumnError",e}return Uo(r,qo(Error)),r}(),Si=function(){function r(t,n){var e;return Po(this,r),(e=Wo(this,Vo(r).call(this,Error))).message="[".concat(t.join(", "),"] while expecting [").concat(n.join(", "),"]."),e.name="WrongSchemaError",e}return Uo(r,qo(Error)),r}(),Oi=function(){function r(t,n){var e;return Po(this,r),(e=Wo(this,Vo(r).call(this,TypeError))).message="".concat(t&&t.constructor?t.constructor.name:Ro(t)," while expecting ").concat(n,"."),e.name="ArgumentTypeError",e}return Uo(r,qo(TypeError)),r}(),_i=function(){function e(t){var n;return Po(this,e),(n=Wo(this,Vo(e).call(this,Error))).message="".concat(t,"."),n.name="SQLParseError",n}return Uo(e,qo(Error)),e}(),ki=function(){function e(t){var n;return Po(this,e),(n=Wo(this,Vo(e).call(this,Error))).message="The SQL temporary table ".concat(t," already exits. Use overwrite = true to overwrite it."),n.name="TableAlreadyExistsError",n}return Uo(e,qo(Error)),e}(),ji=function(){function e(t){var n;return Po(this,e),(n=Wo(this,Vo(e).call(this,Error))).message="The SQL temporary table ".concat(t," is not allowed. Avoid to use Spaces, quotes, tabs...."),n.name="WrongTableNameError",n}return Uo(e,qo(Error)),e}(),xi=Object.freeze({FileNotFoundError:mi,MixedTypeError:wi,NoSuchColumnError:bi,WrongSchemaError:Si,ArgumentTypeError:Oi,SQLParseError:_i,TableAlreadyExistsError:ki,WrongTableNameError:ji}),Ai=Br.onFreeze,Ei=Object.freeze,Ti=d(function(){Ei(1)});at({target:"Object",stat:!0,forced:Ti,sham:!qr},{freeze:function(t){return Ei&&m(t)?Ei(Ai(t)):t}});var Ii=d(function(){Ne(1)});at({target:"Object",stat:!0,forced:Ii,sham:!Ee},{getPrototypeOf:function(t){return Ne(ct(t))}});var Ni=Symbol("columns"),Ci=Symbol("values"),Ri=function(){function r(t,n){if(Po(this,r),!t)throw new Oi(t,"Row | Array | Object");this[Ni]=n||Object.keys(t),this[Ci]=Object.freeze(this._build(t))}return Do(r,[{key:Symbol.iterator,value:regeneratorRuntime.mark(function(){var n,e,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=0,e=Object.values(this[Ci]);case 1:if(n<e.length)return r=e[n],t.next=5,r;t.next=8;break;case 5:n++,t.next=1;break;case 8:case"end":return t.stop()}},r,this)})},{key:"__newInstance__",value:function(t,n){var e;return li(this[Ni],n)?Object.assign(Object.create(Object.getPrototypeOf(this)),this,(Fo(e={},Ci,t),Fo(e,Ni,Yo(n)),e)):new r(t,n)}},{key:"_build",value:function(t){if(t instanceof Array)return this._fromArray(t);if(t instanceof r)return this._fromObject(t[Ci]);if(t instanceof Object&&null!==t)return this._fromObject(t);throw new Oi(t,"Row | Array | Object")}},{key:"_fromObject",value:function(n){return Object.assign.apply(Object,[{}].concat(Yo(this[Ni].map(function(t){return Fo({},t,n[t])}))))}},{key:"_fromArray",value:function(n){return Object.assign.apply(Object,[{}].concat(Yo(Object.entries(this[Ni]).map(function(t){return Fo({},t[1],n[t[0]])}))))}},{key:"toDict",value:function(){return Object.assign({},this[Ci])}},{key:"toArray",value:function(){return Yo(this)}},{key:"size",value:function(){return this[Ni].length}},{key:"hash",value:function(){return function(t){var n=0;if(0===t.length)return n;for(var e=0;e<t.length;e++)n=(n<<5)-n+t.charCodeAt(e),n&=n;return n}(JSON.stringify(this[Ci]))}},{key:"has",value:function(t){return this[Ni].includes(t)}},{key:"select",value:function(){for(var n=this,t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return this.__newInstance__(Object.assign.apply(Object,[{}].concat(Yo(e.map(function(t){return Fo({},t,n.get(t))})))),e)}},{key:"get",value:function(t){if(!this.has(t))throw new bi(t,this[Ni]);return this[Ci][t]}},{key:"set",value:function(t,n){var e=Object.assign({},this[Ci],Fo({},t,n));return this.__newInstance__(e,Object.keys(e))}},{key:"delete",value:function(n){if(!this.has(n))throw new bi(n,this[Ni]);return this.select.apply(this,Yo(this[Ni].filter(function(t){return t!==n})))}}]),r}(),Pi=Symbol("columns"),Li=Symbol("rows"),Di=Symbol("groups"),Fi=Symbol("hashes"),Mi=function(){function o(t,n,e,r){Po(this,o),this[Di]=e,this[Fi]=r,this.df=t,this.on=0<n.length?n:t.listColumns()}return Do(o,[{key:Symbol.iterator,value:regeneratorRuntime.mark(function t(){var n,e,r,o,i,u;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=!(n=!0),r=void 0,t.prev=3,o=this[Fi][Symbol.iterator]();case 5:if(n=(i=o.next()).done){t.next=12;break}return u=i.value,t.next=9,this[Di][u];case 9:n=!0,t.next=5;break;case 12:t.next=18;break;case 14:t.prev=14,t.t0=t.catch(3),e=!0,r=t.t0;case 18:t.prev=18,t.prev=19,n||null==o.return||o.return();case 21:if(t.prev=21,e)throw r;t.next=24;break;case 24:return t.finish(21);case 25:return t.finish(18);case 26:case"end":return t.stop()}},t,this,[[3,14,18,26],[19,,21,25]])})},{key:"get",value:function(t){return this[Di][t]}},{key:"toCollection",value:function(){return Yo(this)}},{key:"show",value:function(t){var o=0<arguments.length&&void 0!==t&&t;return Yo(this).map(function(t){var n=t.group,e=t.groupKey,r="--\n[".concat(JSON.stringify(e),"]\n--");return o||console.log(r),r+"\n"+n.show(10,o)}).reduce(function(t,n){return t+"\n"+n})}},{key:"listGroups",value:function(){return Yo(this).map(function(t){return t.groupKey})}},{key:"listHashs",value:function(){return this[Fi]}},{key:"map",value:function(n){var t,e=Yo(this).map(function(t){return t.group.map(n)});return this.df.__newInstance__((t=[]).concat.apply(t,Yo(e.map(function(t){return t.toCollection()}))),e[0].listColumns())}},{key:"filter",value:function(n){var t,e=Yo(this).map(function(t){return t.group.filter(n)}).filter(function(t){return 0<t.listColumns().length});return 0===e.length?this.df.__newInstance__([],this.df.listColumns()):this.df.__newInstance__((t=[]).concat.apply(t,Yo(e.map(function(t){return t.toCollection()}))),this.df.listColumns())}},{key:"chain",value:function(){for(var t,n=arguments.length,e=new Array(n),r=0;r<n;r++)e[r]=arguments[r];var o=Yo(this).map(function(t){var n=t.group;return n.chain.apply(n,e)});return this.df.__newInstance__((t=[]).concat.apply(t,Yo(o.map(function(t){return t.toCollection()}))),o[0].listColumns())}},{key:"aggregate",value:function(r,t){var o=1<arguments.length&&void 0!==t?t:"aggregation";return this.df.__newInstance__(Yo(this).map(function(t){var n=t.group,e=t.groupKey;return Jo({},e,Fo({},o,r(n,e)))}),[].concat(Yo(this.on),[o]))}},{key:"pivot",value:function(e,t){var r=1<arguments.length&&void 0!==t?t:function(t){return t.count()},n=[].concat(Yo(this.on),Yo(this.df.distinct(e).toArray(e)));return this.df.__newInstance__(this.aggregate(function(t){return t.groupBy(e).aggregate(function(t,n){return Fo({},n[e],r(t,n))}).toArray("aggregation").reduce(function(t,n){return Jo({},t,{},n)},{})}).toCollection().map(function(t){var n=t.aggregation;return Jo({},Bo(t,["aggregation"]),{},n)}),n)}},{key:"melt",value:function(t,n){var i=this,u=0<arguments.length&&void 0!==t?t:"variable",a=1<arguments.length&&void 0!==n?n:"value",e=[].concat(Yo(this.on),[u,a]);return this.df.__newInstance__(this.aggregate(function(t){return Object.entries(t.toDict()).reduce(function(t,n){var e=Ho(n,2),r=e[0],o=e[1];return[].concat(Yo(t),Yo(o.reduce(function(t,n){var e;return i.on.includes(r)?t:[].concat(Yo(t),[(e={},Fo(e,u,r),Fo(e,a,n),e)])},[])))},[])}).toCollection().reduce(function(t,n){var e=n.aggregation,r=Bo(n,["aggregation"]);return[].concat(Yo(t),Yo(e.map(function(t){return Jo({},r,{},t)})))},[]),e)}}]),o}();var Ji=Date.prototype,Ui="Invalid Date",Vi="toString",Gi=Ji[Vi],zi=Ji.getTime;new Date(NaN)+""!=Ui&&lt(Ji,Vi,function(){var t=zi.call(this);return t==t?Gi.call(this):Ui});function qi(t){if(iu.hasOwnProperty(t)){var n=iu[t];delete iu[t],n()}}function Bi(t){return function(){qi(t)}}function Wi(t){qi(t.data)}function Hi(t){b.postMessage(t+"",Xi.protocol+"//"+Xi.host)}var Yi,$i,Ki,Qi=b.Promise,Xi=b.location,Zi=b.setImmediate,tu=b.clearImmediate,nu=b.process,eu=b.MessageChannel,ru=b.Dispatch,ou=0,iu={},uu="onreadystatechange";Zi&&tu||(Zi=function(t){for(var n=[],e=1;e<arguments.length;)n.push(arguments[e++]);return iu[++ou]=function(){("function"==typeof t?t:Function(t)).apply(void 0,n)},Yi(ou),ou},tu=function(t){delete iu[t]},"process"==o(nu)?Yi=function(t){nu.nextTick(Bi(t))}:ru&&ru.now?Yi=function(t){ru.now(Bi(t))}:eu?(Ki=($i=new eu).port2,$i.port1.onmessage=Wi,Yi=Bt(Ki.postMessage,Ki,1)):!b.addEventListener||"function"!=typeof postMessage||b.importScripts||d(Hi)?Yi=uu in i("script")?function(t){Dt.appendChild(i("script"))[uu]=function(){Dt.removeChild(this),qi(t)}}:function(t){setTimeout(Bi(t),0)}:(Yi=Hi,b.addEventListener("message",Wi,!1)));var au,cu,fu,su,lu,hu,pu,vu,yu={set:Zi,clear:tu},du=Z("navigator","userAgent")||"",gu=P.f,mu=yu.set,wu=b.MutationObserver||b.WebKitMutationObserver,bu=b.process,Su=b.Promise,Ou="process"==o(bu),_u=gu(b,"queueMicrotask"),ku=_u&&_u.value;ku||(au=function(){var t,n;for(Ou&&(t=bu.domain)&&t.exit();cu;){n=cu.fn,cu=cu.next;try{n()}catch(t){throw cu?su():fu=void 0,t}}fu=void 0,t&&t.enter()},su=Ou?function(){bu.nextTick(au)}:wu&&!/(iphone|ipod|ipad).*applewebkit/i.test(du)?(lu=!0,hu=document.createTextNode(""),new wu(au).observe(hu,{characterData:!0}),function(){hu.data=lu=!lu}):Su&&Su.resolve?(pu=Su.resolve(void 0),vu=pu.then,function(){vu.call(pu,au)}):function(){mu.call(b,au)});function ju(t){var e,r;this.promise=new t(function(t,n){if(void 0!==e||void 0!==r)throw TypeError("Bad Promise constructor");e=t,r=n}),this.resolve=qt(e),this.reject=qt(r)}function xu(t,n){if(k(t),m(n)&&n.constructor===t)return n;var e=Mu.f(t);return(0,e.resolve)(n),e.promise}function Au(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}function Eu(t){var n;return!(!m(t)||"function"!=typeof(n=t.then))&&n}function Tu(l,h,p){if(!h.notified){h.notified=!0;var v=h.reactions;Fu(function(){for(var t=h.value,n=1==h.state,e=0;v.length>e;){var r,o,i,u=v[e++],a=n?u.ok:u.fail,c=u.resolve,f=u.reject,s=u.domain;try{a?(n||(2===h.rejection&&aa(l,h),h.rejection=1),!0===a?r=t:(s&&s.enter(),r=a(t),s&&(s.exit(),i=!0)),r===u.promise?f(Wu("Promise-chain cycle")):(o=Eu(r))?o.call(r,c,f):c(r)):f(t)}catch(t){s&&!i&&s.exit(),f(t)}}h.reactions=[],h.notified=!1,p&&!h.rejection&&ia(l,h)})}}function Iu(t,n,e){var r,o;na?((r=Hu.createEvent("Event")).promise=n,r.reason=e,r.initEvent(t,!1,!0),b.dispatchEvent(r)):r={promise:n,reason:e},(o=b["on"+t])?o(r):t===ea&&function(t,n){var e=b.console;e&&e.error&&(1===arguments.length?e.error(t):e.error(t,n))}("Unhandled promise rejection",e)}function Nu(n,e,r,o){return function(t){n(e,r,t,o)}}function Cu(t,n,e,r){n.done||(n.done=!0,r&&(n=r),n.value=e,n.state=2,Tu(t,n,!0))}var Ru,Pu,Lu,Du,Fu=ku||function(t){var n={fn:t,next:void 0};fu&&(fu.next=n),cu||(cu=n,su()),fu=n},Mu={f:function(t){return new ju(t)}},Ju=yu.set,Uu=Vt("species"),Vu="Promise",Gu=st.get,zu=st.set,qu=st.getterFor(Vu),Bu=Qi,Wu=b.TypeError,Hu=b.document,Yu=b.process,$u=b.fetch,Ku=Yu&&Yu.versions,Qu=Ku&&Ku.v8||"",Xu=Mu.f,Zu=Xu,ta="process"==o(Yu),na=!!(Hu&&Hu.createEvent&&b.dispatchEvent),ea="unhandledrejection",ra=It(Vu,function(){function n(){}var t=Bu.resolve(1),e=(t.constructor={})[Uu]=function(t){t(n,n)};return!((ta||"function"==typeof PromiseRejectionEvent)&&t.then(n)instanceof e&&0!==Qu.indexOf("6.6")&&-1===du.indexOf("Chrome/66"))}),oa=ra||!we(function(t){Bu.all(t).catch(function(){})}),ia=function(e,r){Ju.call(b,function(){var t,n=r.value;if(ua(r)&&(t=Au(function(){ta?Yu.emit("unhandledRejection",n,e):Iu(ea,e,n)}),r.rejection=ta||ua(r)?2:1,t.error))throw t.value})},ua=function(t){return 1!==t.rejection&&!t.parent},aa=function(t,n){Ju.call(b,function(){ta?Yu.emit("rejectionHandled",t):Iu("rejectionhandled",t,n.value)})},ca=function(e,r,t,n){if(!r.done){r.done=!0,n&&(r=n);try{if(e===t)throw Wu("Promise can't be resolved itself");var o=Eu(t);o?Fu(function(){var n={done:!1};try{o.call(t,Nu(ca,e,n,r),Nu(Cu,e,n,r))}catch(t){Cu(e,n,t,r)}}):(r.value=t,r.state=1,Tu(e,r,!1))}catch(t){Cu(e,{done:!1},t,r)}}};ra&&(Bu=function(t){Fr(this,Bu,Vu),qt(t),Ru.call(this);var n=Gu(this);try{t(Nu(ca,this,n),Nu(Cu,this,n))}catch(t){Cu(this,n,t)}},(Ru=function(t){zu(this,{type:Vu,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=Jr(Bu.prototype,{then:function(t,n){var e=qu(this),r=Xu(wo(this,Bu));return r.ok="function"!=typeof t||t,r.fail="function"==typeof n&&n,r.domain=ta?Yu.domain:void 0,e.parent=!0,e.reactions.push(r),0!=e.state&&Tu(this,e,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),Pu=function(){var t=new Ru,n=Gu(t);this.promise=t,this.resolve=Nu(ca,t,n),this.reject=Nu(Cu,t,n)},Mu.f=Xu=function(t){return t===Bu||t===Lu?new Pu(t):Zu(t)},"function"==typeof Qi&&(Du=Qi.prototype.then,lt(Qi.prototype,"then",function(t,n){var e=this;return new Bu(function(t,n){Du.call(e,t,n)}).then(t,n)}),"function"==typeof $u&&at({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return xu(Bu,$u.apply(b,arguments))}}))),at({global:!0,wrap:!0,forced:ra},{Promise:Bu}),zt(Bu,Vu,!1),Ur(Vu),Lu=ht[Vu],at({target:Vu,stat:!0,forced:ra},{reject:function(t){var n=Xu(this);return n.reject.call(void 0,t),n.promise}}),at({target:Vu,stat:!0,forced:ra},{resolve:function(t){return xu(this,t)}}),at({target:Vu,stat:!0,forced:oa},{all:function(t){var a=this,n=Xu(a),c=n.resolve,f=n.reject,e=Au(function(){var r=qt(a.resolve),o=[],i=0,u=1;Wr(t,function(t){var n=i++,e=!1;o.push(void 0),u++,r.call(a,t).then(function(t){e||(e=!0,o[n]=t,--u||c(o))},f)}),--u||c(o)});return e.error&&f(e.value),n.promise},race:function(t){var e=this,r=Xu(e),o=r.reject,n=Au(function(){var n=qt(e.resolve);Wr(t,function(t){n.call(e,t).then(r.resolve,o)})});return n.error&&o(n.value),r.promise}});var fa="toString",sa=RegExp.prototype,la=sa[fa],ha=d(function(){return"/a/b"!=la.call({source:"a",flags:"b"})}),pa=la.name!=fa;(ha||pa)&&lt(RegExp.prototype,fa,function(){var t=k(this),n=String(t.source),e=t.flags;return"/"+n+"/"+String(void 0===e&&t instanceof RegExp&&!("flags"in sa)?Er.call(t):e)},{unsafe:!0});var va="".startsWith,ya=Math.min;at({target:"String",proto:!0,forced:!zr("startsWith")},{startsWith:function(t,n){var e=String(l(this));Gr(t);var r=nt(ya(1<arguments.length?n:void 0,e.length)),o=String(t);return va?va.call(e,o,r):e.slice(r,r+o.length)===o}});var da="$";function ga(){}function ma(t,n){var e=new ga;if(t instanceof ga)t.each(function(t,n){e.set(n,t)});else if(Array.isArray(t)){var r,o=-1,i=t.length;if(null==n)for(;++o<i;)e.set(o,t[o]);else for(;++o<i;)e.set(n(r=t[o],o,t),r)}else if(t)for(var u in t)e.set(u,t[u]);return e}function wa(){}ga.prototype=ma.prototype={constructor:ga,has:function(t){return da+t in this},get:function(t){return this[da+t]},set:function(t,n){return this[da+t]=n,this},remove:function(t){var n=da+t;return n in this&&delete this[n]},clear:function(){for(var t in this)t[0]===da&&delete this[t]},keys:function(){var t=[];for(var n in this)n[0]===da&&t.push(n.slice(1));return t},values:function(){var t=[];for(var n in this)n[0]===da&&t.push(this[n]);return t},entries:function(){var t=[];for(var n in this)n[0]===da&&t.push({key:n.slice(1),value:this[n]});return t},size:function(){var t=0;for(var n in this)n[0]===da&&++t;return t},empty:function(){for(var t in this)if(t[0]===da)return!1;return!0},each:function(t){for(var n in this)n[0]===da&&t(this[n],n.slice(1),this)}};var ba=ma.prototype;wa.prototype=function(t,n){var e=new wa;if(t instanceof wa)t.each(function(t){e.add(t)});else if(t){var r=-1,o=t.length;if(null==n)for(;++r<o;)e.add(t[r]);else for(;++r<o;)e.add(n(t[r],r,t))}return e}.prototype={constructor:wa,has:ba.has,add:function(t){return this[da+(t+="")]=t,this},remove:ba.remove,clear:ba.clear,values:ba.keys,size:ba.size,empty:ba.empty,each:ba.each};var Sa={value:function(){}};function Oa(){for(var t,n=0,e=arguments.length,r={};n<e;++n){if(!(t=arguments[n]+"")||t in r)throw new Error("illegal type: "+t);r[t]=[]}return new _a(r)}function _a(t){this._=t}function ka(t,n){for(var e,r=0,o=t.length;r<o;++r)if((e=t[r]).name===n)return e.value}function ja(t,n,e){for(var r=0,o=t.length;r<o;++r)if(t[r].name===n){t[r]=Sa,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=e&&t.push({name:n,value:e}),t}function xa(r,o){return function(t,n){var e=function(r,t){var o,i,u,a,c=Oa("beforesend","progress","load","error"),f=ma(),s=new XMLHttpRequest,l=null,h=null,p=0;function n(t){var n,e=s.status;if(!e&&function(t){var n=t.responseType;return n&&"text"!==n?t.response:t.responseText}(s)||200<=e&&e<300||304===e){if(u)try{n=u.call(o,s)}catch(t){return void c.call("error",o,t)}else n=s;c.call("load",o,n)}else c.call("error",o,t)}if("undefined"==typeof XDomainRequest||"withCredentials"in s||!/^(http(s)?:)?\/\//.test(r)||(s=new XDomainRequest),"onload"in s?s.onload=s.onerror=s.ontimeout=n:s.onreadystatechange=function(t){3<s.readyState&&n(t)},s.onprogress=function(t){c.call("progress",o,t)},o={header:function(t,n){return t=(t+"").toLowerCase(),arguments.length<2?f.get(t):(null==n?f.remove(t):f.set(t,n+""),o)},mimeType:function(t){return arguments.length?(i=null==t?null:t+"",o):i},responseType:function(t){return arguments.length?(a=t,o):a},timeout:function(t){return arguments.length?(p=+t,o):p},user:function(t){return arguments.length<1?l:(l=null==t?null:t+"",o)},password:function(t){return arguments.length<1?h:(h=null==t?null:t+"",o)},response:function(t){return u=t,o},get:function(t,n){return o.send("GET",t,n)},post:function(t,n){return o.send("POST",t,n)},send:function(t,n,e){return s.open(t,r,!0,l,h),null==i||f.has("accept")||f.set("accept",i+",*/*"),s.setRequestHeader&&f.each(function(t,n){s.setRequestHeader(n,t)}),null!=i&&s.overrideMimeType&&s.overrideMimeType(i),null!=a&&(s.responseType=a),0<p&&(s.timeout=p),null==e&&"function"==typeof n&&(e=n,n=null),null!=e&&1===e.length&&(e=function(e){return function(t,n){e(null==t?n:null)}}(e)),null!=e&&o.on("error",e).on("load",function(t){e(null,t)}),c.call("beforesend",o,s),s.send(null==n?null:n),o},abort:function(){return s.abort(),o},on:function(){var t=c.on.apply(c,arguments);return t===c?o:t}},null==t)return o;if("function"!=typeof t)throw new Error("invalid callback: "+t);return o.get(t)}(t).mimeType(r).response(o);if(null==n)return e;if("function"!=typeof n)throw new Error("invalid callback: "+n);return e.get(n)}}_a.prototype=Oa.prototype={constructor:_a,on:function(t,n){var e,r=this._,o=function(t,r){return t.trim().split(/^|\s+/).map(function(t){var n="",e=t.indexOf(".");if(0<=e&&(n=t.slice(e+1),t=t.slice(0,e)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}})}(t+"",r),i=-1,u=o.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++i<u;)if(e=(t=o[i]).type)r[e]=ja(r[e],t.name,n);else if(null==n)for(e in r)r[e]=ja(r[e],t.name,null);return this}for(;++i<u;)if((e=(t=o[i]).type)&&(e=ka(r[e],t.name)))return e},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new _a(t)},call:function(t,n){if(0<(e=arguments.length-2))for(var e,r,o=new Array(e),i=0;i<e;++i)o[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(i=0,e=(r=this._[t]).length;i<e;++i)r[i].value.apply(n,o)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],o=0,i=r.length;o<i;++o)r[o].value.apply(n,e)}};var Aa=xa("application/json",function(t){return JSON.parse(t.responseText)}),Ea=xa("text/plain",function(t){return t.responseText}),Ta={},Ia={};function Na(t){return new Function("d","return {"+t.map(function(t,n){return JSON.stringify(t)+": d["+n+"]"}).join(",")+"}")}function Ca(t){var e=Object.create(null),r=[];return t.forEach(function(t){for(var n in t)n in e||r.push(e[n]=n)}),r}function Ra(t,n){var e=t+"",r=e.length;return r<n?new Array(n-r+1).join(0)+e:e}function Pa(t){var n=t.getUTCHours(),e=t.getUTCMinutes(),r=t.getUTCSeconds(),o=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":function(t){return t<0?"-"+Ra(-t,6):9999<t?"+"+Ra(t,6):Ra(t,4)}(t.getUTCFullYear())+"-"+Ra(t.getUTCMonth()+1,2)+"-"+Ra(t.getUTCDate(),2)+(o?"T"+Ra(n,2)+":"+Ra(e,2)+":"+Ra(r,2)+"."+Ra(o,3)+"Z":r?"T"+Ra(n,2)+":"+Ra(e,2)+":"+Ra(r,2)+"Z":e||n?"T"+Ra(n,2)+":"+Ra(e,2)+"Z":"")}function La(r){var n=new RegExp('["'+r+"\n\r]"),l=r.charCodeAt(0);function i(r,t){var n,e=[],o=r.length,i=0,u=0,a=o<=0,c=!1;function f(){if(a)return Ia;if(c)return c=!1,Ta;var t,n,e=i;if(34===r.charCodeAt(e)){for(;i++<o&&34!==r.charCodeAt(i)||34===r.charCodeAt(++i););return(t=i)>=o?a=!0:10===(n=r.charCodeAt(i++))?c=!0:13===n&&(c=!0,10===r.charCodeAt(i)&&++i),r.slice(e+1,t-1).replace(/""/g,'"')}for(;i<o;){if(10===(n=r.charCodeAt(t=i++)))c=!0;else if(13===n)c=!0,10===r.charCodeAt(i)&&++i;else if(n!==l)continue;return r.slice(e,t)}return a=!0,r.slice(e,o)}for(10===r.charCodeAt(o-1)&&--o,13===r.charCodeAt(o-1)&&--o;(n=f())!==Ia;){for(var s=[];n!==Ta&&n!==Ia;)s.push(n),n=f();t&&null==(s=t(s,u++))||e.push(s)}return e}function e(t,e){return t.map(function(n){return e.map(function(t){return u(n[t])}).join(r)})}function o(t){return t.map(u).join(r)}function u(t){return null==t?"":t instanceof Date?Pa(t):n.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,e){var r,o,n=i(t,function(t,n){if(r)return r(t,n-1);o=t,r=e?function(e,r){var o=Na(e);return function(t,n){return r(o(t),n,e)}}(t,e):Na(t)});return n.columns=o||[],n},parseRows:i,format:function(t,n){return null==n&&(n=Ca(t)),[n.map(u).join(r)].concat(e(t,n)).join("\n")},formatBody:function(t,n){return null==n&&(n=Ca(t)),e(t,n).join("\n")},formatRows:function(t){return t.map(o).join("\n")}}}var Da=La(","),Fa=(Da.parse,Da.parseRows,Da.format,Da.formatBody,Da.formatRows,La("\t")),Ma=(Fa.parse,Fa.parseRows,Fa.format,Fa.formatBody,Fa.formatRows,{}),Ja={},Ua=34,Va=10,Ga=13;function za(t){return new Function("d","return {"+t.map(function(t,n){return JSON.stringify(t)+": d["+n+"]"}).join(",")+"}")}function qa(r){var n=new RegExp('["'+r+"\n\r]"),l=r.charCodeAt(0);function i(r,t){var n,e=[],o=r.length,i=0,u=0,a=o<=0,c=!1;function f(){if(a)return Ja;if(c)return c=!1,Ma;var t,n,e=i;if(r.charCodeAt(e)===Ua){for(;i++<o&&r.charCodeAt(i)!==Ua||r.charCodeAt(++i)===Ua;);return(t=i)>=o?a=!0:(n=r.charCodeAt(i++))===Va?c=!0:n===Ga&&(c=!0,r.charCodeAt(i)===Va&&++i),r.slice(e+1,t-1).replace(/""/g,'"')}for(;i<o;){if((n=r.charCodeAt(t=i++))===Va)c=!0;else if(n===Ga)c=!0,r.charCodeAt(i)===Va&&++i;else if(n!==l)continue;return r.slice(e,t)}return a=!0,r.slice(e,o)}for(r.charCodeAt(o-1)===Va&&--o,r.charCodeAt(o-1)===Ga&&--o;(n=f())!==Ja;){for(var s=[];n!==Ma&&n!==Ja;)s.push(n),n=f();t&&null==(s=t(s,u++))||e.push(s)}return e}function e(t){return t.map(o).join(r)}function o(t){return null==t?"":n.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,e){var r,o,n=i(t,function(t,n){if(r)return r(t,n-1);o=t,r=e?function(e,r){var o=za(e);return function(t,n){return r(o(t),n,e)}}(t,e):za(t)});return n.columns=o||[],n},parseRows:i,format:function(t,e){return null==e&&(e=function(t){var e=Object.create(null),r=[];return t.forEach(function(t){for(var n in t)n in e||r.push(e[n]=n)}),r}(t)),[e.map(o).join(r)].concat(t.map(function(n){return e.map(function(t){return o(n[t])}).join(r)})).join("\n")},formatRows:function(t){return t.map(e).join("\n")}}}qa(","),qa("\t");function Ba(t,n){try{require("fs").writeFileSync(t,n)}catch(t){console.warn("File system module is not available.")}}function Wa(t,n){if(FileReader&&File){var e=new FileReader;e.onload=function(t){return n(t.target.result)},e.readAsText(t)}}function Ha(t){return t.startsWith("./")&&(t=require("path").join(__dirname,t)),t.startsWith("/")||t.startsWith("C")||/^[a-z]:[/\\]/i.test(t)?"file://".concat(t):t}function Ya(t){var n=!(2<arguments.length&&void 0!==arguments[2])||arguments[2],e=3<arguments.length&&void 0!==arguments[3]?arguments[3]:void 0,r=qa(1<arguments.length&&void 0!==arguments[1]?arguments[1]:";"),o=n?r.format(t.toCollection(),t[Pi]):r.formatRows(t.toArray());return e&&Ba(t._cleanSavePath(e),o),o}function $a(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:";",e=!(2<arguments.length&&void 0!==arguments[2])||arguments[2],r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:void 0;return t.toDSV(n,e,r)}function Ka(t){var n=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:void 0;return t.toDSV(",",n,e)}function Qa(t){var n=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:void 0;return t.toDSV("\t",n,e)}function Xa(t){var n=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:void 0;return t.toDSV("|",n,e)}function Za(t){var n=1<arguments.length&&void 0!==arguments[1]&&arguments[1],e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:void 0,r=JSON.stringify(n?t.toCollection():t.toDict());return e&&Ba(t._cleanSavePath(e),r),r}function tc(n){var r=!(2<arguments.length&&void 0!==arguments[2])||arguments[2],o=qa(1<arguments.length&&void 0!==arguments[1]?arguments[1]:";");return new Promise(function(e){function t(t){if(t.includes("Error: ENOENT"))return e(null);"\ufeff"===t[0].toString(16)&&(t=t.slice(1));var n=r?o.parse(t):o.parseRows(t);return e(n)}return"string"==typeof n?Ea(Ha(n),t):Wa(n,t)}).then(function(t){if(null===t)throw new mi(n);return t})}function nc(t){return tc(t,1<arguments.length&&void 0!==arguments[1]?arguments[1]:";",!(2<arguments.length&&void 0!==arguments[2])||arguments[2])}function ec(t){return tc(t,",",!(1<arguments.length&&void 0!==arguments[1])||arguments[1])}function rc(t){return tc(t,"\t",!(1<arguments.length&&void 0!==arguments[1])||arguments[1])}function oc(t){return tc(t,"|",!(1<arguments.length&&void 0!==arguments[1])||arguments[1])}function ic(e){return new Promise(function(n){return"string"==typeof e?Aa(Ha(e),n):Wa(e,function(t){return n(JSON.parse(t))})}).then(function(t){if(null===t)throw new mi(e);return t})}var uc=Object.freeze({toDSV:Ya,toCSV:Ka,toTSV:Qa,toPSV:Xa,toText:$a,toJSON:Za,fromDSV:tc,fromCSV:ec,fromTSV:rc,fromPSV:oc,fromText:nc,fromJSON:ic}),ac=function(){function a(t,n){var e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};Po(this,a);var r=Ho(this._build(t,n),2);this[Li]=r[0],this[Pi]=r[1],this.options=e,this.options.modules=[].concat(Yo(a.defaultModules),Yo(this.options.modules||[])),Object.assign.apply(Object,[this].concat(Yo(this.__instanciateModules__(this.options.modules))))}return Do(a,null,[{key:"setDefaultModules",value:function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];a.defaultModules=n}},{key:"fromDSV",value:function(){return tc.apply(uc,arguments).then(function(t){return new a(t)})}},{key:"fromText",value:function(){return nc.apply(uc,arguments).then(function(t){return new a(t)})}},{key:"fromCSV",value:function(){return ec.apply(uc,arguments).then(function(t){return new a(t)})}},{key:"fromTSV",value:function(){return rc.apply(uc,arguments).then(function(t){return new a(t)})}},{key:"fromPSV",value:function(){return oc.apply(uc,arguments).then(function(t){return new a(t)})}},{key:"fromJSON",value:function(){return ic.apply(uc,arguments).then(function(t){return new a(t)})}}]),Do(a,[{key:Symbol.iterator,value:regeneratorRuntime.mark(function t(){var n,e,r,o,i,u;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=!(n=!0),r=void 0,t.prev=3,o=this[Li][Symbol.iterator]();case 5:if(n=(i=o.next()).done){t.next=12;break}return u=i.value,t.next=9,u;case 9:n=!0,t.next=5;break;case 12:t.next=18;break;case 14:t.prev=14,t.t0=t.catch(3),e=!0,r=t.t0;case 18:t.prev=18,t.prev=19,n||null==o.return||o.return();case 21:if(t.prev=21,e)throw r;t.next=24;break;case 24:return t.finish(21);case 25:return t.finish(18);case 26:case"end":return t.stop()}},t,this,[[3,14,18,26],[19,,21,25]])})},{key:"_columnsAreEquals",value:function(t,n){for(var e=1<arguments.length&&void 0!==n?n:this[Pi],r=0,o=Object.keys(t);r<o.length;r++){var i=o[r];if(t[i]!==e[i])return!1}return!0}},{key:"__newInstance__",value:function(t,n){if(!(this._columnsAreEquals(n)&&t[0]instanceof Ri))return new a(t,n,this.options);var e=Object.keys(t[0].toDict());if(!li(e,this[Pi],!0))return new a(t,e,this.options);var r=new a([],[],this.options);return r[Li]=Yo(t),r[Pi]=Yo(n),r}},{key:"__instanciateModules__",value:function(t,n){var e=this,r=1<arguments.length&&void 0!==n?n:void 0;return t.map(function(t){var n=new t(r||e);return Fo({},n.name,n)})}},{key:"_build",value:function(t,n){if(t instanceof a)return this._fromArray(Array.from(t[Li]),n||t[Pi]);if(t instanceof Array&&0<t.length)return this._fromArray(t,n||Array.from(new Set(t.slice(0,10).concat(t.slice(-10,-1)).map(function(t){return Object.keys(t)}).reduce(function(t,n){return t.concat(n)}))));if(t instanceof Array&&0===t.length)return this._fromArray(t,n||[]);if(t instanceof Object)return this._fromDict(t,n||Object.keys(t));throw new Oi(t,"DataFrame | Array | Object")}},{key:"_fromDict",value:function(t,n){return[hi(Object.values(t)).map(function(t){return new Ri(t,n)}),n]}},{key:"_fromArray",value:function(t,n){return[t.map(function(t){return new Ri(t,n)}),n]}},{key:"_joinByType",value:function(t,c,f,s){var l=this,h=c.listHashs();return t.toCollection().map(function(t){var n=t.group,e=t.hash,r=h.includes(e),o=n;if(c.get(e)){var i=c.get(e).group.toCollection(),u=n.toCollection().map(function(n){return i.map(function(t){return Object.assign({},t,n)})}).reduce(function(t,n){return[].concat(Yo(t),Yo(n))},[]);o=l.__newInstance__(u,s)}function a(t){return!!t&&o}return"full"===f?o:a("out"===f?!r:r)}).filter(function(t){return t})}},{key:"_join",value:function(t,n,e){if(!(t instanceof a))throw new Oi(t,"DataFrame");var r=Yo(new Set([].concat(Yo(this.listColumns()),Yo(t.listColumns())))),o=Array.isArray(n)?n:[n],i=this.groupBy.apply(this,Yo(o)),u=t.groupBy.apply(t,Yo(o));return[this.__newInstance__([],r)].concat(Yo(yi([].concat(Yo(e[0]?this._joinByType(i,u,e[0],r):[]),Yo(e[1]?this._joinByType(u,i,e[1],r):[])),function(t){return t.restructure(r)}))).reduce(function(t,n){return t.union(n)}).dropDuplicates()}},{key:"_cleanSavePath",value:function(t){return t.replace("file://","/")}},{key:"toDSV",value:function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return Ya.apply(uc,[this].concat(n))}},{key:"toCSV",value:function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return Ka.apply(uc,[this].concat(n))}},{key:"toTSV",value:function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return Qa.apply(uc,[this].concat(n))}},{key:"toPSV",value:function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return Xa.apply(uc,[this].concat(n))}},{key:"toText",value:function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return $a.apply(uc,[this].concat(n))}},{key:"toJSON",value:function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return Za.apply(uc,[this].concat(n))}},{key:"toDict",value:function(){var o=this;return Object.assign.apply(Object,[{}].concat(Yo(Object.entries(this.transpose().toArray()).map(function(t){var n=Ho(t,2),e=n[0],r=n[1];return Fo({},o[Pi][e],r)}))))}},{key:"toArray",value:function(n){return n?Array.from(this).map(function(t){return t.get(n)}):Array.from(this).map(function(t){return t.toArray()})}},{key:"toCollection",value:function(t){return t?Array.from(this):Array.from(this).map(function(t){return t.toDict()})}},{key:"show",value:function(t,n){function e(t){return"| ".concat(t.map(function(t){var n=String(t);return 9<n.length?n.substring(0,6)+"...":n+Array(10-n.length).join(" ")}).join(" | ")," |")}var r=0<arguments.length&&void 0!==t?t:10,o=1<arguments.length&&void 0!==n&&n,i=e(this[Pi]),u=0,a=[i,Array(i.length).join("-")].concat(Yo(yi(this[Li],function(t){return u++,e(t.toArray())},function(){return r<=u}))).join("\n");return o||console.log(a),a}},{key:"dim",value:function(){return[this.count(),this[Pi].length]}},{key:"transpose",value:function(t){var n=[].concat(Yo(t?["rowNames"]:[]),Yo(Yo(Array(this.count()).keys()).reverse())),e=hi((t?this.push(this[Pi]):this).toArray());return this.__newInstance__(e,n.reverse()).restructure(n)}},{key:"count",value:function(){return this[Li].length}},{key:"countValue",value:function(n,t){var e=1<arguments.length&&void 0!==t?t:this[Pi][0];return this.filter(function(t){return t.get(e)===n}).count()}},{key:"push",value:function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return this.union(new a(n,this[Pi]))}},{key:"replace",value:function(t,e,n){var r=this,o=n&&0<n.length?n:this[Pi],i=Array.isArray(t)?t:[t];return this.map(function(t){return(0<o.length?o:r[Pi]).reduce(function(t,n){return i.includes(t.get(n))?t.set(n,e):t},t)})}},{key:"distinct",value:function(t){return this.__newInstance__(Fo({},t,Yo(new Set(this.toArray(t)))),[t])}},{key:"unique",value:function(t){return this.distinct(t)}},{key:"listColumns",value:function(){return Yo(this[Pi])}},{key:"select",value:function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return this.__newInstance__(this[Li].map(function(t){return t.select.apply(t,n)}),n)}},{key:"withColumn",value:function(e,t){var r=1<arguments.length&&void 0!==t?t:function(){};return this.__newInstance__(this[Li].map(function(t,n){return t.set(e,r(t,n))}),this[Pi].includes(e)?this[Pi]:[].concat(Yo(this[Pi]),[e]))}},{key:"restructure",value:function(t){return this.__newInstance__(this[Li],t)}},{key:"renameAll",value:function(t){if(t.length!==this[Pi].length)throw new Si(t,this[Pi]);return this.__newInstance__(this.toArray(),t)}},{key:"rename",value:function(n,e){var t=this[Pi].map(function(t){return t===n?e:t});return this.renameAll(t)}},{key:"castAll",value:function(e){var n=this;if(e.length!==this[Pi].length)throw new Si(e,this[Pi]);return this.map(function(t){return new Ri(t.toArray().map(function(t,n){return e[n](t)}),n[Pi])})}},{key:"cast",value:function(n,e){return this.withColumn(n,function(t){return e(t.get(n))})}},{key:"drop",value:function(n){return this.__newInstance__(this[Li].map(function(t){return t.delete(n)}),this[Pi].filter(function(t){return t!==n}))}},{key:"chain",value:function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return this.__newInstance__(Yo(function(t){for(var n=arguments.length,e=new Array(1<n?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];return Array.from(yi(t,e.reduce(function(o,i){return function(t,n){var e=o(t,n),r=!!e&&i(e,n);return!0===r?e:r}},function(t){return t})))}.apply(void 0,[this[Li]].concat(n))),this[Pi])}},{key:"filter",value:function(t){var e="object"===Ro(t)?function(o){return Object.entries(t).map(function(t){var n=Ho(t,2),e=n[0],r=n[1];return Object.is(o.get(e),r)}).reduce(function(t,n){return t&&n})}:t,n=yi(this[Li],function(t,n){return!!e(t,n)&&t});return this.__newInstance__(n,this[Pi])}},{key:"where",value:function(t){return this.filter(t)}},{key:"find",value:function(t){return this.filter(t)[Li][0]}},{key:"map",value:function(e){return this.__newInstance__(yi(this[Li],function(t,n){return e(t,n)}),this[Pi])}},{key:"reduce",value:function(e,t){return void 0===t?this[Li].reduce(function(t,n){return e(t,n)}):this[Li].reduce(function(t,n){return e(t,n)},t)}},{key:"reduceRight",value:function(e,t){return void 0===t?this[Li].reduceRight(function(t,n){return e(t,n)}):this[Li].reduceRight(function(t,n){return e(t,n)},t)}},{key:"dropDuplicates",value:function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];var r=n&&0<n.length?n:this[Pi];return this.groupBy.apply(this,Yo(r)).filter(function(t,n){return 0===n})}},{key:"dropMissingValues",value:function(t){var a=t&&0<t.length?t:this[Pi];return this.filter(function(t){var n=!0,e=!1,r=void 0;try{for(var o,i=a[Symbol.iterator]();!(n=(o=i.next()).done);n=!0){var u=o.value;if([NaN,void 0,null].includes(t.get(u)))return!1}}catch(t){e=!0,r=t}finally{try{n||null==i.return||i.return()}finally{if(e)throw r}}return!0})}},{key:"fillMissingValues",value:function(t,n){return this.replace([NaN,void 0,null],t,n)}},{key:"shuffle",value:function(){return this.count()<2?this:this.__newInstance__(this.reduce(function(t,n){var e=Math.floor(Math.random()*(t.length-1)+1);return Array.isArray(t)?[].concat(Yo(t.slice(e,t.length+1)),[n],Yo(t.slice(0,e))):[t,n]}),this[Pi])}},{key:"sample",value:function(t){var n=this.count()*t,e=0;return this.__newInstance__(yi(this.shuffle()[Li],function(t){return e++,t},function(){return n<=e}),this[Pi])}},{key:"bisect",value:function(t){var n=this.count()*t,e=0,r=[];return[this.__newInstance__(yi(this.shuffle()[Li],function(t){if(e<n)return e++,t;r.push(t)}),this[Pi]),this.__newInstance__(r,this[Pi])]}},{key:"groupBy",value:function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return function(r,o){var i={},t=[],n=!0,e=!1,u=void 0;try{for(var a,c=r.toCollection(!0)[Symbol.iterator]();!(n=(a=c.next()).done);n=!0){var f=a.value,s=f.select.apply(f,Yo(o)).hash();i[s]||(t.push(s),i[s]=[]),i[s].push(f)}}catch(t){e=!0,u=t}finally{try{n||null==c.return||c.return()}finally{if(e)throw u}}var l=t.reduce(function(t,n){var e;return t[n]={groupKey:(e=i[n][0]).select.apply(e,Yo(o)).toDict(),hash:n,group:new r.constructor(i[n],r.listColumns())},t},{});return new Mi(r,o,l,t)}(this,n)}},{key:"sortBy",value:function(t,n,e){var u=1<arguments.length&&void 0!==n&&n,r=2<arguments.length&&void 0!==e?e:"first";Array.isArray(t)||(t=[t]);function a(t){return[NaN,null,void 0].includes(t)}var c=t,f=["first","last"].includes(r)?r:"first",o=this[Li].sort(function(o,i){return c.map(function(t){var n=[o.get(t),i.get(t)],e=n[0],r=n[1];if(a(e))return"last"===f?1:-1;if(a(r))return"last"===f?-1:1;if(Ro(e)!==Ro(r))throw new wi([Ro(e),Ro(r)]);return r<e?u?-1:1:e<r?u?1:-1:0}).reduce(function(t,n){return t||n})});if(1<c.length){var s=[],l=[];return o.forEach(function(t){var n=!0,e=!1,r=void 0;try{for(var o,i=c[Symbol.iterator]();!(n=(o=i.next()).done);n=!0){var u=o.value;if(a(t.get(u)))return void s.push(t)}}catch(t){e=!0,r=t}finally{try{n||null==i.return||i.return()}finally{if(e)throw r}}l.push(t)}),this.__newInstance__("last"===r?l.concat(s):s.concat(l),this[Pi])}return this.__newInstance__(o,this[Pi])}},{key:"union",value:function(t){if(!(t instanceof a))throw new Oi(t,"DataFrame");if(!li(this[Pi],t[Pi]))throw new Si(t[Pi],this[Pi]);return this.__newInstance__([].concat(Yo(this),Yo(t.restructure(this[Pi]))),this[Pi])}},{key:"join",value:function(t,n,e){var r=this;return{inner:function(){return r.innerJoin(t,n)},full:function(){return r.fullJoin(t,n)},outer:function(){return r.outerJoin(t,n)},left:function(){return r.leftJoin(t,n)},right:function(){return r.rightJoin(t,n)}}[2<arguments.length&&void 0!==e?e:"inner"]()}},{key:"innerJoin",value:function(t,n){return this._join(t,n,["in"])}},{key:"fullJoin",value:function(t,n){return this._join(t,n,["full","full"])}},{key:"outerJoin",value:function(t,n){return this.fullJoin(t,n)}},{key:"leftJoin",value:function(t,n){return this._join(t,n,["full","in"])}},{key:"rightJoin",value:function(t,n){return this._join(t,n,["in","full"])}},{key:"diff",value:function(t,n){return this._join(t,n,["out","out"])}},{key:"head",value:function(t){var n=0<arguments.length&&void 0!==t?t:10;return this.slice(0,n)}},{key:"tail",value:function(t){var n=0<arguments.length&&void 0!==t?t:10;return this.slice(-n)}},{key:"slice",value:function(t,n){return this.__newInstance__(this[Li].slice(t||void 0,n||void 0),this[Pi])}},{key:"getRow",value:function(t){return this[Li][t]}},{key:"setRow",value:function(t,n){var e=1<arguments.length&&void 0!==n?n:function(t){return t},r=Array.from(this[Li]);return r[t]=e(r[t]),this.__newInstance__(r,this[Pi])}}]),a}();ac.defaultModules=[];function cc(t){var n,e,r,o,i,u,a,c,f=s(t,!1);if("string"==typeof f&&2<f.length)if(43===(n=(f=hc(f)).charCodeAt(0))||45===n){if(88===(e=f.charCodeAt(2))||120===e)return NaN}else if(48===n){switch(f.charCodeAt(1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+f}for(u=(i=f.slice(2)).length,a=0;a<u;a++)if((c=i.charCodeAt(a))<48||o<c)return NaN;return parseInt(i,r)}return+f}var fc=Ot.f,sc=P.f,lc=D.f,hc=ti.trim,pc="Number",vc=b[pc],yc=vc.prototype,dc=o(Ut(yc))==pc;if(It(pc,!vc(" 0o1")||!vc("0b1")||vc("+0x1"))){for(var gc,mc=function(t){var n=arguments.length<1?0:t,e=this;return e instanceof mc&&(dc?d(function(){yc.valueOf.call(e)}):o(e)!=pc)?Mr(new vc(cc(n)),e,mc):cc(n)},wc=S?fc(vc):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),bc=0;wc.length>bc;bc++)h(vc,gc=wc[bc])&&!h(mc,gc)&&lc(mc,gc,sc(vc,gc));(mc.prototype=yc).constructor=mc,lt(b,pc,mc)}at({target:"Number",stat:!0},{isNaN:function(t){return t!=t}});var Sc=function(){function n(t){Po(this,n),this.df=t,this.name="stat"}return Do(n,[{key:"_castAsNumber",value:function(n){return this.df.withColumn(n,function(t){return Number(t.get(n))}).filter(function(t){return!Number.isNaN(t.get(n))})}},{key:"sum",value:function(e){return Number(this.df.reduce(function(t,n){return si(n.get(e))?t+Number(n.get(e)):t},0))}},{key:"max",value:function(e){return this._castAsNumber(e).reduce(function(t,n){return n.get(e)>t.get(e)?n:t}).get(e)}},{key:"min",value:function(e){return this._castAsNumber(e).reduce(function(t,n){return t.get(e)>n.get(e)?n:t}).get(e)}},{key:"mean",value:function(e){var t=this.df.filter(function(t){return si(t.get(e))});return Number(t.reduce(function(t,n){return si(n.get(e))?t+Number(n.get(e)):t},0))/t.count()}},{key:"average",value:function(t){return this.mean(t)}},{key:"var",value:function(e,t){var n=1<arguments.length&&void 0!==t&&t,r=this.df.filter(function(t){return si(t.get(e))}),o=this.mean(e);return Number(r.reduce(function(t,n){return t+Math.pow(n.get(e)-o,2)},0))/(r.count()-(n?0:1))}},{key:"sd",value:function(t,n){var e=1<arguments.length&&void 0!==n&&n;return Math.sqrt(this.var(t,e))}},{key:"stats",value:function(t){return{sum:this.sum(t),mean:this.mean(t),min:this.min(t),max:this.max(t),var:this.var(t),varpop:this.var(t,!0),sd:this.sd(t),sdpop:this.sd(t,!0)}}}]),n}(),Oc=function(){function n(t){Po(this,n),this.df=t,this.name="matrix"}return Do(n,[{key:"isCommutative",value:function(t,n){var e=1<arguments.length&&void 0!==n&&n;if(!(t instanceof ac))throw new Oi(t,"DataFrame");return li(this.df.dim(),e?t.dim().reverse():t.dim(),!0)}},{key:"add",value:function(r){var o=this;if(!this.isCommutative(r))throw new Si(this.df.dim(),r.dim());var i=Yo(Array(this.df.dim()[1]).keys());return this.df.__newInstance__(Yo(yi(Object.keys(Yo(this.df)),function(t){var n=Yo(o.df)[t].toArray(),e=Yo(r)[t].toArray();return i.map(function(t){return n[t]+e[t]})})),this.df.listColumns())}},{key:"product",value:function(n){if("number"!=typeof n)throw new Oi(n,"Number");return this.df.map(function(t){return t.toArray().map(function(t){return t*n})})}},{key:"dot",value:function(n){var e=this;if(!this.isCommutative(n,!0))throw new Si(this.df.dim(),n.dim().reverse());var o=Yo(Array(this.df.dim()[0]).keys());return this.df.__newInstance__(Yo(yi(Object.keys(Yo(this.df)),function(t){var r=Yo(e.df)[t].toArray();return Yo(yi(o,function(t){var e=Yo(n.transpose())[t].toArray();return Object.keys(e).reduce(function(t,n){return t+e[n]*r[n]},0)}))})),o)}}]),n}(),_c=D.f,kc=Ot.f,jc=Vt("match"),xc=b.RegExp,Ac=xc.prototype,Ec=/a/g,Tc=/a/g,Ic=new xc(Ec)!==Ec;if(S&&It("RegExp",!Ic||d(function(){return Tc[jc]=!1,xc(Ec)!=Ec||xc(Tc)==Tc||"/a/i"!=xc(Ec,"i")}))){for(var Nc=function(t,n){var e=this instanceof Nc,r=Vr(t),o=void 0===n;return!e&&r&&t.constructor===Nc&&o?t:Mr(Ic?new xc(r&&!o?t.source:t,n):xc((r=t instanceof Nc)?t.source:t,r&&o?Er.call(t):n),e?this:Ac,Nc)},Cc=function(n){n in Nc||_c(Nc,n,{configurable:!0,get:function(){return xc[n]},set:function(t){xc[n]=t}})},Rc=kc(xc),Pc=0;Rc.length>Pc;)Cc(Rc[Pc++]);(Ac.constructor=Nc).prototype=Ac,lt(b,"RegExp",Nc)}Ur("RegExp");var Lc=ln.find,Dc="find",Fc=!0;Dc in[]&&Array(1)[Dc](function(){Fc=!1}),at({target:"Array",proto:!0,forced:Fc},{find:function(t,n){return Lc(this,t,1<arguments.length?n:void 0)}}),_e(Dc);var Mc=ln.findIndex,Jc="findIndex",Uc=!0;Jc in[]&&Array(1)[Jc](function(){Uc=!1}),at({target:"Array",proto:!0,forced:Uc},{findIndex:function(t,n){return Mc(this,t,1<arguments.length?n:void 0)}}),_e(Jc);var Vc,Gc=ti.trim;at({target:"String",proto:!0,forced:(Vc="trim",d(function(){return!!Ko[Vc]()||"âÂá "!="âÂá "[Vc]()||Ko[Vc].name!==Vc}))},{trim:function(){return Gc(this)}});var zc=[["INNER JOIN","INNERJOIN"],["LEFT JOIN","LEFTJOIN"],["RIGHT JOIN","RIGHTJOIN"],["FULL JOIN","FULLJOIN"],["GROUP BY","GROUPBY"]],qc={IN:function(t,n){return n.includes(t)},LIKE:function(t,n){return n.includes(t)||t.includes(n)},">=":function(t,n){return n<=t},"<=":function(t,n){return t<=n},"!=":function(t,n){return t!==n},"<":function(t,n){return t<n},">":function(t,n){return n<t},"=":function(t,n){return t===n},AND:function(t,n){return t&&n},OR:function(t,n){return t||n}},Bc={COUNT:function(t){return t.count()},SUM:function(t,n){return t.stat.sum(n)},MAX:function(t,n){return t.stat.max(n)},MIN:function(t,n){return t.stat.min(n)},AVG:function(t,n){return t.stat.mean(n)}};function Wc(t){return di(t.join(" "),[" ",""]).split(",")}function Hc(n,e,r){var o=n.findIndex(function(t){return"ON"===t.toUpperCase()})+1;return function(t){return t.join(e[n[0]],Wc(n.filter(function(t,n){return o<=n})),r)}}var Yc={WHERE:function(n){var r=function(t){for(var n=arguments.length,e=new Array(1<n?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];return e.reduce(function(t,n){return t.map(function(t){return t.split(n)}).reduce(function(t,n){return[].concat(Yo(t),Yo(n))},[])},[t])}(n.join(" ")," AND "," OR ");return function(t){return t.filter(function(o){var e=n.filter(function(t){return["AND","OR"].includes(t.toUpperCase())});return r.map(function(t){var n=gi.apply(void 0,[t].concat(Yo(Object.keys(qc))))[0],e=t.split(n).map(function(t){return t.trim()});if(!o.has(e[0])&&o.has(e[1]))return qc[n](di(e[0].trim(),['"',""],["'",""],["`",""]),String(o.get(e[1])));var r=Number(e[1]);return qc[n](String(o.get(e[0])),Number.isNaN(r)?di(e[1].trim(),['"',""],["'",""],["`",""]):r)}).reduce(function(t,n){return qc[e.shift()](t,n)})})}},JOIN:function(t,n){return Hc(t,n,"inner")},INNERJOIN:function(t,n){return Hc(t,n,"inner")},LEFTJOIN:function(t,n){return Hc(t,n,"left")},RIGHTJOIN:function(t,n){return Hc(t,n,"right")},FULLJOIN:function(t,n){return Hc(t,n,"full")},UNION:function(n,e){return function(t){return t.union(n[0].toUpperCase().includes("SELECT")?Qc(n.join(" "),e):e[n[0]])}},GROUPBY:function(n){return function(t){return t.groupBy.apply(t,Yo(Wc(n)))}}};function $c(t){var n=function(t){var o=t;return zc.forEach(function(t){var n=Ho(t,2),e=n[0],r=n[1];o=o.replace(e,r).replace(e.toLowerCase(),r)}),o}(t).split(" "),e=n.findIndex(function(t){return"FROM"===t.toUpperCase()});if(-1===e)throw new _i("Your query should contains FROM keyword");return{selections:n.slice(0,e),table:n[e+1],operations:n.slice(e+2,n.length)}}function Kc(t){if("SELECT"!==t[0].toUpperCase())throw new _i("Your query should begin with SELECT keyword");return t.shift(),function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=pi(n);return function t(n){return n[0](e)?n[1](e):t(o.next().value)}(o.next().value)}(t.join(" ").split(",").map(function(t){return t.trim()}),[function(t){return"*"===di(t[0],[" ",""])},function(){return function(t){return t}}],[function(t){return t[0].toUpperCase().includes("DISTINCT")},function(n){var e=di(n[0].split(" AS ")[0],["DISTINCT",""],["distinct",""],[" ",""]);return function(t){return t.distinct(e).rename(e,n[0].includes("AS")?n[0].split("AS")[1].replace(" ",""):e)}}],[function(t){return gi.apply(void 0,[t[0].toUpperCase()].concat(Yo(Object.keys(Bc))))[0]},function(r){return function(t){function n(t){return Bc[e](t,di(r[0],["".concat(e.toLowerCase(),"("),""],["".concat(e,"("),""],["(",""],[")",""]))}var e=Object.keys(Bc).find(function(t){return r[0].toUpperCase().includes(t)});return t.on&&t.df?t.aggregate(n):n(t)}}],[function(){return!0},function(n){return function(t){return t.select.apply(t,Yo(n.map(function(t){return t.split(" AS ")[0].replace(" ","")}))).renameAll(n.map(function(t){return t.includes("AS")?t.split("AS")[1].replace(" ",""):t}))}}])}function Qc(t,n){var e=$c(t),r=e.selections,o=e.table,i=e.operations;if(!o||!Object.keys(n).includes(o))throw new _i("Wrong table name in your query: ".concat(o));var u=function(e,r){var o=e.map(function(t,n){return Object.keys(Yc).includes(t.toUpperCase())?n:void 0}).filter(function(t){return void 0!==t});return o.map(function(t,n){return Yc[e[t].toUpperCase()](e.slice(t+1,o[n+1]?o[n+1]:e.length),r)}).reduce(function(n,e){return function(t){return e(n(t))}},function(t){return t})}(i,n);return Kc(r)(u(n[o]))}var Xc=function(){function o(t){Po(this,o),this.df=t,this.name="sql"}return Do(o,null,[{key:"request",value:function(t){if("string"!=typeof t)throw new Oi(t,"Stri g");return Qc(t,o.tables)}},{key:"dropTables",value:function(){o.tables={}}},{key:"dropTable",value:function(t){delete o.tables[t]}},{key:"renameTable",value:function(t,n,e){var r=2<arguments.length&&void 0!==e&&e;o.registerTable(o.tables[t],n,r),o.dropTable(t)}},{key:"listTables",value:function(){return Object.keys(o.tables)}},{key:"registerTable",value:function(t,n,e){var r=2<arguments.length&&void 0!==e&&e;if(!(t instanceof ac))throw new Oi(t,"DataFrame");if(!new RegExp("^[a-zA-Z_][a-zA-Z0-9_]*$").test(n))throw new ji(n);if(o.listTables().includes(n)&&!r)throw new ki(n);o.tables[n]=t}}]),Do(o,[{key:"register",value:function(t,n){var e=1<arguments.length&&void 0!==n&&n;return o.registerTable(this.df,t,e),this.df}}]),o}();return Xc.tables={},ac.setDefaultModules(Sc,Oc,Xc),ac.sql=Xc,t.DataFrame=ac,t.Row=Ri,t.Errors=xi,t.default=ac,t}({});
